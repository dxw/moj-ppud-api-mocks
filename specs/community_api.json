{"swagger":"2.0","info":{"description":"REST service for accessing community probation information\nThis service serves two sets of APIs, those secured by OAuth2 (and marked as Secure) and those internal to the Probation New Tech Application which are not accessible to any other applications","version":"2020-08-03.1851.5c5104c","title":"Community API Documentation","termsOfService":"https://gateway.nomis-api.service.justice.gov.uk/auth/terms","contact":{"name":"HMPPS Digital Studio","email":"dps-hmpps@digital.justice.gov.uk"},"license":{"name":"Open Government Licence v3.0","url":"https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/"}},"host":"community-api-public.test.delius.probation.hmpps.dsd.io","basePath":"/","tags":[{"name":"Attendance resources (Secure)","description":"Attendance Resource"},{"name":"Authentication","description":"Authentication Controller"},{"name":"Custody resource","description":"Custody Resource"},{"name":"Legacy Health Checks","description":"Please use /health, /info, /pong in base path"},{"name":"Logon as user","description":"Obtain JWT token"},{"name":"OMiC","description":"Custody Key Dates Controller"},{"name":"Offender Appointments","description":"Offender appointment resources"},{"name":"Offender Contacts","description":"Offender contact resources"},{"name":"Offender Court Appearances","description":"Offender court appearance resources"},{"name":"Offender Court Reports","description":"Offender court report resources"},{"name":"Offender Documents","description":"Offender document resources"},{"name":"Offender Events (Secure)","description":"Offender Delta Controller Secure"},{"name":"Offender convictions","description":"Offender conviction resources"},{"name":"Offender custody key dates","description":"Custody Key Dates Controller"},{"name":"Offender deltas","description":"Offender Delta Controller"},{"name":"Offender identifiers resource (Secure)","description":"Offender Identifiers Resource"},{"name":"Offender institutional Reports","description":"Offender institutional report resources"},{"name":"Offender offences","description":"Offender offence resources"},{"name":"Offender personal circumstance resource (Secure)","description":"Personal Circumstance Resource"},{"name":"Offender personalCircumstances","description":"Offender personal circumstance resources"},{"name":"Offender registrations","description":"Offender alert registrations resources"},{"name":"Offender registrations resource (Secure)","description":"Registration Resource"},{"name":"Offender resources (Secure)","description":"Offenders Resource"},{"name":"Offenders resources","description":"Offender Controller"},{"name":"Reference Data API (Secure)","description":"Reference Data Resource"},{"name":"Reference data","description":"Reference Data APIs"},{"name":"Requirements resources (Secure)","description":"Requirements Resource"},{"name":"Staff","description":"Staff Controller"},{"name":"Staff (Secure)","description":"Staff Resource"},{"name":"User API","description":"User Controller"},{"name":"case notes","description":"Case note resources"},{"name":"operation-handler","description":"Operation Handler"}],"paths":{"/api/documentLink":{"post":{"tags":["Offender Documents"],"summary":"insertDocument","operationId":"insertDocumentUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"documentLink","description":"documentLink","required":true,"schema":{"$ref":"#/definitions/DocumentLink"}}],"responses":{"201":{"description":"Created"}},"deprecated":false}},"/api/documents/{documentId}":{"get":{"tags":["Offenders resources"],"summary":"getDocumentById","operationId":"getDocumentByIdUsingGET","produces":["application/json"],"parameters":[{"name":"documentId","in":"path","description":"documentId","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"$ref":"#/definitions/Resource"}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/health":{"get":{"tags":["Legacy Health Checks"],"summary":"health","operationId":"healthUsingGET","produces":["application/json"],"responses":{"200":{"description":"OK","schema":{"type":"string"}}},"deprecated":false}},"/api/info":{"get":{"tags":["Legacy Health Checks"],"summary":"info","operationId":"infoUsingGET","produces":["application/json"],"responses":{"200":{"description":"OK","schema":{"type":"string"}}},"deprecated":false}},"/api/logon":{"post":{"tags":["Logon as user"],"summary":"getToken","operationId":"getTokenUsingPOST","consumes":["text/plain"],"produces":["*/*"],"parameters":[{"in":"body","name":"distinguishedName","description":"distinguishedName","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","schema":{"type":"string"}},"404":{"description":"User lookup: not found"}},"deprecated":false}},"/api/offenderDeltaIds":{"get":{"tags":["Offender deltas"],"summary":"getOffenderDeltas","operationId":"getOffenderDeltasUsingGET","produces":["application/json"],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/OffenderDelta"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false},"delete":{"tags":["Offender deltas"],"summary":"deleteOffenderDeltas","operationId":"deleteOffenderDeltasUsingDELETE","produces":["application/json"],"parameters":[{"name":"before","in":"query","description":"before","required":true,"type":"string","format":"date-time"}],"responses":{"200":{"description":"Happy path"},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/count":{"get":{"tags":["Offenders resources"],"summary":"offenderCount","operationId":"offenderCountUsingGET","produces":["application/json"],"responses":{"200":{"description":"Happy path","schema":{"$ref":"#/definitions/Count"}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/crn/{crn}":{"get":{"tags":["Offenders resources"],"summary":"getOffenderSummaryByCrn","operationId":"getOffenderSummaryByCrnUsingGET","produces":["application/json"],"parameters":[{"name":"crn","in":"path","description":"crn","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"$ref":"#/definitions/OffenderDetailSummary"}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/crn/{crn}/all":{"get":{"tags":["Offenders resources"],"summary":"getFullFatOffenderByCrn","operationId":"getFullFatOffenderByCrnUsingGET","produces":["application/json"],"parameters":[{"name":"crn","in":"path","description":"crn","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"$ref":"#/definitions/OffenderDetail"}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/crn/{crn}/appointments":{"get":{"tags":["Offender Appointments"],"summary":"getOffenderReportAppointmentByCrn","operationId":"getOffenderReportAppointmentByCrnUsingGET","produces":["application/json"],"parameters":[{"name":"attended","in":"query","description":"attended","required":false,"type":"string","enum":["ATTENDED","UNATTENDED","NOT_RECORDED"]},{"name":"crn","in":"path","description":"crn","required":true,"type":"string"},{"name":"from","in":"query","description":"date of the earliest appointment","required":false,"type":"string","allowEmptyValue":false},{"name":"to","in":"query","description":"date of the latest appointment","required":false,"type":"string","allowEmptyValue":false}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/Appointment"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/crn/{crn}/contacts":{"get":{"tags":["Offender Contacts"],"summary":"getOffenderReportContactByCrn","operationId":"getOffenderReportContactByCrnUsingGET","produces":["application/json"],"parameters":[{"name":"contactTypes","in":"query","description":"contactTypes","required":false,"type":"array","items":{"type":"string"},"collectionFormat":"multi"},{"name":"crn","in":"path","description":"crn","required":true,"type":"string"},{"name":"from","in":"query","description":"from","required":false,"type":"string"},{"name":"to","in":"query","description":"to","required":false,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/Contact"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/crn/{crn}/convictions":{"get":{"tags":["Offender convictions"],"summary":"getOffenderConvictionsByCrn","operationId":"getOffenderConvictionsByCrnUsingGET","produces":["application/json"],"parameters":[{"name":"crn","in":"path","description":"crn","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/Conviction"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/crn/{crn}/courtAppearances":{"get":{"tags":["Offender Court Appearances"],"summary":"getOffenderCourtAppearancesByCrn","operationId":"getOffenderCourtAppearancesByCrnUsingGET","produces":["application/json"],"parameters":[{"name":"crn","in":"path","description":"crn","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/CourtAppearance"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/crn/{crn}/courtReports":{"get":{"tags":["Offender Court Reports"],"summary":"getOffenderCourtReportsByCrn","operationId":"getOffenderCourtReportsByCrnUsingGET","produces":["application/json"],"parameters":[{"name":"crn","in":"path","description":"crn","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/CourtReport"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/crn/{crn}/courtReports/{courtReportId}":{"get":{"tags":["Offender Court Reports"],"summary":"getOffenderCourtReportByCrnAndCourtReportId","operationId":"getOffenderCourtReportByCrnAndCourtReportIdUsingGET","produces":["application/json"],"parameters":[{"name":"courtReportId","in":"path","description":"courtReportId","required":true,"type":"integer","format":"int64"},{"name":"crn","in":"path","description":"crn","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"$ref":"#/definitions/CourtReport"}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/crn/{crn}/documents":{"get":{"tags":["Offenders resources"],"summary":"Returns all offender related documents as a flat list given CRN","description":"This uses Alfresco as it's source of information","operationId":"getOffenderDocumentListByNomsNumber","produces":["application/json"],"parameters":[{"name":"crn","in":"path","description":"crn","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/DocumentMeta"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/crn/{crn}/documents/{documentId}":{"get":{"tags":["Offenders resources"],"summary":"getOffenderDocumentByCrn","operationId":"getOffenderDocumentByCrnUsingGET","produces":["application/json"],"parameters":[{"name":"crn","in":"path","description":"crn","required":true,"type":"string"},{"name":"documentId","in":"path","description":"documentId","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"$ref":"#/definitions/Resource"}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/crn/{crn}/documents/{documentId}/detail":{"get":{"tags":["Offenders resources"],"summary":"getOffenderDocumentDetailByCrn","operationId":"getOffenderDocumentDetailByCrnUsingGET","produces":["application/json"],"parameters":[{"name":"crn","in":"path","description":"crn","required":true,"type":"string"},{"name":"documentId","in":"path","description":"documentId","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"$ref":"#/definitions/DocumentMeta"}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/crn/{crn}/institutionalReports":{"get":{"tags":["Offender institutional Reports"],"summary":"getOffenderInstitutionalReportsByCrn","operationId":"getOffenderInstitutionalReportsByCrnUsingGET","produces":["application/json"],"parameters":[{"name":"crn","in":"path","description":"crn","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/InstitutionalReport"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/crn/{crn}/institutionalReports/{institutionalReportId}":{"get":{"tags":["Offender institutional Reports"],"summary":"getOffenderInstitutionalReportByCrnAndInstitutionalReportId","operationId":"getOffenderInstitutionalReportByCrnAndInstitutionalReportIdUsingGET","produces":["application/json"],"parameters":[{"name":"crn","in":"path","description":"crn","required":true,"type":"string"},{"name":"institutionalReportId","in":"path","description":"institutionalReportId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Happy path","schema":{"$ref":"#/definitions/InstitutionalReport"}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/crn/{crn}/offences":{"get":{"tags":["Offender offences"],"summary":"getOffenderOffencesByCrn","operationId":"getOffenderOffencesByCrnUsingGET","produces":["application/json"],"parameters":[{"name":"crn","in":"path","description":"crn","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/Offence"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/crn/{crn}/offenderManagers":{"get":{"tags":["Offenders resources"],"summary":"getOffenderManagerByCrn","operationId":"getOffenderManagerByCrnUsingGET","produces":["application/json"],"parameters":[{"name":"crn","in":"path","description":"crn","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/OffenderManager"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/crn/{crn}/personalCircumstances":{"get":{"tags":["Offender personalCircumstances"],"summary":"getOffenderPersonalCircumstancesByCrn","operationId":"getOffenderPersonalCircumstancesByCrnUsingGET","produces":["application/json"],"parameters":[{"name":"crn","in":"path","description":"crn","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/PersonalCircumstance"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/crn/{crn}/registrations":{"get":{"tags":["Offender registrations"],"summary":"getOffenderRegistrationsByCrn","operationId":"getOffenderRegistrationsByCrnUsingGET","produces":["application/json"],"parameters":[{"name":"crn","in":"path","description":"crn","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/Registration"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/crn/{crn}/userAccess":{"get":{"tags":["Offenders resources"],"summary":"checkUserAccessByCrn","operationId":"checkUserAccessByCrnUsingGET","produces":["application/json"],"parameters":[{"name":"crn","in":"path","description":"crn","required":true,"type":"string"}],"responses":{"200":{"description":"User has unrestricted access to offender","schema":{"$ref":"#/definitions/AccessLimitation"}},"401":{"description":"Request is missing Authorization header (no JWT)"},"403":{"description":"User is restricted from access to offender","schema":{"$ref":"#/definitions/AccessLimitation"}},"404":{"description":"No such offender, or no such User (see body for detail)"}},"deprecated":false}},"/api/offenders/nomsNumber/{nomsNumber}":{"get":{"tags":["Offenders resources"],"summary":"getOffenderSummaryByNomsNumber","operationId":"getOffenderSummaryByNomsNumberUsingGET","produces":["application/json"],"parameters":[{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"$ref":"#/definitions/OffenderDetailSummary"}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/nomsNumber/{nomsNumber}/all":{"get":{"tags":["Offenders resources"],"summary":"getFullFatOffenderByNomsNumber","operationId":"getFullFatOffenderByNomsNumberUsingGET","produces":["application/json"],"parameters":[{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"$ref":"#/definitions/OffenderDetail"}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/nomsNumber/{nomsNumber}/appointments":{"get":{"tags":["Offender Appointments"],"summary":"getOffenderAppointmentReportByNomsNumber","operationId":"getOffenderAppointmentReportByNomsNumberUsingGET","produces":["application/json"],"parameters":[{"name":"attended","in":"query","description":"attended","required":false,"type":"string","enum":["ATTENDED","UNATTENDED","NOT_RECORDED"]},{"name":"from","in":"query","description":"date of the earliest appointment","required":false,"type":"string","allowEmptyValue":false},{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"},{"name":"to","in":"query","description":"date of the latest appointment","required":false,"type":"string","allowEmptyValue":false}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/Appointment"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/nomsNumber/{nomsNumber}/contacts":{"get":{"tags":["Offender Contacts"],"summary":"getOffenderContactReportByNomsNumber","operationId":"getOffenderContactReportByNomsNumberUsingGET","produces":["application/json"],"parameters":[{"name":"contactTypes","in":"query","description":"contactTypes","required":false,"type":"array","items":{"type":"string"},"collectionFormat":"multi"},{"name":"from","in":"query","description":"from","required":false,"type":"string"},{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"},{"name":"to","in":"query","description":"to","required":false,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/Contact"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/nomsNumber/{nomsNumber}/convictions":{"get":{"tags":["Offender convictions"],"summary":"getOffenderConvictionsByNomsNumber","operationId":"getOffenderConvictionsByNomsNumberUsingGET","produces":["application/json"],"parameters":[{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/Conviction"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/nomsNumber/{nomsNumber}/courtAppearances":{"get":{"tags":["Offender Court Appearances"],"summary":"getOffenderCourtAppearancesByNomsNumber","operationId":"getOffenderCourtAppearancesByNomsNumberUsingGET","produces":["application/json"],"parameters":[{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/CourtAppearance"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/nomsNumber/{nomsNumber}/courtReports":{"get":{"tags":["Offender Court Reports"],"summary":"getOffenderCourtReportsByNomsNumber","operationId":"getOffenderCourtReportsByNomsNumberUsingGET","produces":["application/json"],"parameters":[{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/CourtReport"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/nomsNumber/{nomsNumber}/courtReports/{courtReportId}":{"get":{"tags":["Offender Court Reports"],"summary":"getOffenderCourtReportByNomsNumberAndCourtReportId","operationId":"getOffenderCourtReportByNomsNumberAndCourtReportIdUsingGET","produces":["application/json"],"parameters":[{"name":"courtReportId","in":"path","description":"courtReportId","required":true,"type":"integer","format":"int64"},{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"$ref":"#/definitions/CourtReport"}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/nomsNumber/{nomsNumber}/documents":{"get":{"tags":["Offenders resources"],"summary":"Returns all offender related documents as a flat list given nomsNumber","description":"This uses Alfresco as it's source of information","operationId":"getOffenderDocumentListByNomsNumber_1","produces":["application/json"],"parameters":[{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/DocumentMeta"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/nomsNumber/{nomsNumber}/documents/{documentId}":{"get":{"tags":["Offenders resources"],"summary":"getOffenderDocumentByOffenderId","operationId":"getOffenderDocumentByOffenderIdUsingGET","produces":["application/json"],"parameters":[{"name":"documentId","in":"path","description":"documentId","required":true,"type":"string"},{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"$ref":"#/definitions/Resource"}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/nomsNumber/{nomsNumber}/documents/{documentId}/detail":{"get":{"tags":["Offenders resources"],"summary":"getOffenderDocumentDetailByNomsNumber","operationId":"getOffenderDocumentDetailByNomsNumberUsingGET","produces":["application/json"],"parameters":[{"name":"documentId","in":"path","description":"documentId","required":true,"type":"string"},{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"$ref":"#/definitions/DocumentMeta"}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/nomsNumber/{nomsNumber}/institutionalReports":{"get":{"tags":["Offender institutional Reports"],"summary":"getOffenderInstitutionalReportsByNomsNumber","operationId":"getOffenderInstitutionalReportsByNomsNumberUsingGET","produces":["application/json"],"parameters":[{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/InstitutionalReport"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/nomsNumber/{nomsNumber}/institutionalReports/{institutionalReportId}":{"get":{"tags":["Offender institutional Reports"],"summary":"getOffenderInstitutionalReportByNomsNumberAndInstitutionalReportId","operationId":"getOffenderInstitutionalReportByNomsNumberAndInstitutionalReportIdUsingGET","produces":["application/json"],"parameters":[{"name":"institutionalReportId","in":"path","description":"institutionalReportId","required":true,"type":"integer","format":"int64"},{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"$ref":"#/definitions/InstitutionalReport"}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/nomsNumber/{nomsNumber}/offences":{"get":{"tags":["Offender offences"],"summary":"getOffenderOffencesByNomsNumber","operationId":"getOffenderOffencesByNomsNumberUsingGET","produces":["application/json"],"parameters":[{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/Offence"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/nomsNumber/{nomsNumber}/offenderManagers":{"get":{"tags":["Offenders resources"],"summary":"getOffenderManagerByNomsNumber","operationId":"getOffenderManagerByNomsNumberUsingGET","produces":["application/json"],"parameters":[{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/OffenderManager"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/nomsNumber/{nomsNumber}/personalCircumstances":{"get":{"tags":["Offender personalCircumstances"],"summary":"getOffenderPersonalCircumstancesByNomsNumber","operationId":"getOffenderPersonalCircumstancesByNomsNumberUsingGET","produces":["application/json"],"parameters":[{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/PersonalCircumstance"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/nomsNumber/{nomsNumber}/registrations":{"get":{"tags":["Offender registrations"],"summary":"getOffenderRegistrationsByNomsNumber","operationId":"getOffenderRegistrationsByNomsNumberUsingGET","produces":["application/json"],"parameters":[{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/Registration"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/nomsNumber/{nomsNumber}/responsibleOfficers":{"get":{"tags":["Offenders resources"],"summary":"getResponsibleOfficersByNomsNumber","operationId":"getResponsibleOfficersByNomsNumberUsingGET","produces":["application/json"],"parameters":[{"name":"current","in":"query","description":"current","required":false,"type":"boolean","default":false},{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"}],"responses":{"200":{"description":"A list of responsible officers for an offender","schema":{"type":"array","items":{"$ref":"#/definitions/ResponsibleOfficer"}}},"401":{"description":"Request is missing Authorization header (no JWT)"},"403":{"description":"The requesting user was restricted from access","schema":{"$ref":"#/definitions/AccessLimitation"}},"404":{"description":"The requested offender was not found."}},"deprecated":false}},"/api/offenders/nomsNumber/{nomsNumber}/userAccess":{"get":{"tags":["Offenders resources"],"summary":"checkUserAccessByNomsNumber","operationId":"checkUserAccessByNomsNumberUsingGET","produces":["application/json"],"parameters":[{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"}],"responses":{"200":{"description":"User has unrestricted access to offender","schema":{"$ref":"#/definitions/AccessLimitation"}},"401":{"description":"Request is missing Authorization header (no JWT)"},"403":{"description":"User is restricted from access to offender","schema":{"$ref":"#/definitions/AccessLimitation"}},"404":{"description":"No such offender, or no such User (see body for detail)"}},"deprecated":false}},"/api/offenders/offenderId/{offenderId}":{"get":{"tags":["Offenders resources"],"summary":"getOffenderByOffenderId","operationId":"getOffenderByOffenderIdUsingGET","produces":["application/json"],"parameters":[{"name":"offenderId","in":"path","description":"offenderId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Happy path","schema":{"$ref":"#/definitions/OffenderDetailSummary"}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/offenderId/{offenderId}/all":{"get":{"tags":["Offenders resources"],"summary":"getFullFatOffenderByOffenderId","operationId":"getFullFatOffenderByOffenderIdUsingGET","produces":["application/json"],"parameters":[{"name":"offenderId","in":"path","description":"offenderId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Happy path","schema":{"$ref":"#/definitions/OffenderDetail"}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/offenderId/{offenderId}/appointments":{"get":{"tags":["Offender Appointments"],"summary":"getOffenderAppointmentReportByOffenderId","operationId":"getOffenderAppointmentReportByOffenderIdUsingGET","produces":["application/json"],"parameters":[{"name":"attended","in":"query","description":"attended","required":false,"type":"string","enum":["ATTENDED","UNATTENDED","NOT_RECORDED"]},{"name":"from","in":"query","description":"date of the earliest appointment","required":false,"type":"string","allowEmptyValue":false},{"name":"offenderId","in":"path","description":"offenderId","required":true,"type":"integer","format":"int64"},{"name":"to","in":"query","description":"date of the latest appointment","required":false,"type":"string","allowEmptyValue":false}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/Appointment"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/offenderId/{offenderId}/contacts":{"get":{"tags":["Offender Contacts"],"summary":"getOffenderContactReportByOffenderId","operationId":"getOffenderContactReportByOffenderIdUsingGET","produces":["application/json"],"parameters":[{"name":"contactTypes","in":"query","description":"contactTypes","required":false,"type":"array","items":{"type":"string"},"collectionFormat":"multi"},{"name":"from","in":"query","description":"from","required":false,"type":"string"},{"name":"offenderId","in":"path","description":"offenderId","required":true,"type":"integer","format":"int64"},{"name":"to","in":"query","description":"to","required":false,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/Contact"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/offenderId/{offenderId}/convictions":{"get":{"tags":["Offender convictions"],"summary":"getOffenderConvictionsByOffenderId","operationId":"getOffenderConvictionsByOffenderIdUsingGET","produces":["application/json"],"parameters":[{"name":"offenderId","in":"path","description":"offenderId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/Conviction"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/offenderId/{offenderId}/courtAppearances":{"get":{"tags":["Offender Court Appearances"],"summary":"getOffenderCourtAppearancesByOffenderId","operationId":"getOffenderCourtAppearancesByOffenderIdUsingGET","produces":["application/json"],"parameters":[{"name":"offenderId","in":"path","description":"offenderId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/CourtAppearance"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/offenderId/{offenderId}/courtReports":{"get":{"tags":["Offender Court Reports"],"summary":"getOffenderCourtReportsByOffenderId","operationId":"getOffenderCourtReportsByOffenderIdUsingGET","produces":["application/json"],"parameters":[{"name":"offenderId","in":"path","description":"offenderId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/CourtReport"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/offenderId/{offenderId}/courtReports/{courtReportId}":{"get":{"tags":["Offender Court Reports"],"summary":"getOffenderCourtReportByOffenderIdAndCourtReportId","operationId":"getOffenderCourtReportByOffenderIdAndCourtReportIdUsingGET","produces":["application/json"],"parameters":[{"name":"courtReportId","in":"path","description":"courtReportId","required":true,"type":"integer","format":"int64"},{"name":"offenderId","in":"path","description":"offenderId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Happy path","schema":{"$ref":"#/definitions/CourtReport"}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/offenderId/{offenderId}/documents":{"get":{"tags":["Offenders resources"],"summary":"Returns all offender related documents as a flat list given offenderId","description":"This uses Alfresco as it's source of information","operationId":"getOffenderDocumentListByNomsNumber_2","produces":["application/json"],"parameters":[{"name":"offenderId","in":"path","description":"offenderId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/DocumentMeta"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/offenderId/{offenderId}/documents/{documentId}":{"get":{"tags":["Offenders resources"],"summary":"getOffenderDocumentByOffenderId","operationId":"getOffenderDocumentByOffenderIdUsingGET_1","produces":["application/json"],"parameters":[{"name":"documentId","in":"path","description":"documentId","required":true,"type":"string"},{"name":"offenderId","in":"path","description":"offenderId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Happy path","schema":{"$ref":"#/definitions/Resource"}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/offenderId/{offenderId}/documents/{documentId}/detail":{"get":{"tags":["Offenders resources"],"summary":"getOffenderDocumentDetailByOffenderId","operationId":"getOffenderDocumentDetailByOffenderIdUsingGET","produces":["application/json"],"parameters":[{"name":"documentId","in":"path","description":"documentId","required":true,"type":"string"},{"name":"offenderId","in":"path","description":"offenderId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Happy path","schema":{"$ref":"#/definitions/DocumentMeta"}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/offenderId/{offenderId}/institutionalReports":{"get":{"tags":["Offender institutional Reports"],"summary":"getOffenderInstitutionalReportsByOffenderId","operationId":"getOffenderInstitutionalReportsByOffenderIdUsingGET","produces":["application/json"],"parameters":[{"name":"offenderId","in":"path","description":"offenderId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/InstitutionalReport"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/offenderId/{offenderId}/institutionalReports/{institutionalReportId}":{"get":{"tags":["Offender institutional Reports"],"summary":"getOffenderInstitutionalReportByOffenderIdAndInstitutionalReportId","operationId":"getOffenderInstitutionalReportByOffenderIdAndInstitutionalReportIdUsingGET","produces":["application/json"],"parameters":[{"name":"institutionalReportId","in":"path","description":"institutionalReportId","required":true,"type":"integer","format":"int64"},{"name":"offenderId","in":"path","description":"offenderId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Happy path","schema":{"$ref":"#/definitions/InstitutionalReport"}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/offenderId/{offenderId}/offences":{"get":{"tags":["Offender offences"],"summary":"getOffenderOffencesByOffenderId","operationId":"getOffenderOffencesByOffenderIdUsingGET","produces":["application/json"],"parameters":[{"name":"offenderId","in":"path","description":"offenderId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/Offence"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/offenderId/{offenderId}/offenderManagers":{"get":{"tags":["Offenders resources"],"summary":"getOffenderManagerByOffenderId","operationId":"getOffenderManagerByOffenderIdUsingGET","produces":["application/json"],"parameters":[{"name":"offenderId","in":"path","description":"offenderId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/OffenderManager"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/offenderId/{offenderId}/personalCircumstances":{"get":{"tags":["Offender personalCircumstances"],"summary":"getOffenderPersonalCircumstancesByOffenderId","operationId":"getOffenderPersonalCircumstancesByOffenderIdUsingGET","produces":["application/json"],"parameters":[{"name":"offenderId","in":"path","description":"offenderId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/PersonalCircumstance"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/offenderId/{offenderId}/registrations":{"get":{"tags":["Offender registrations"],"summary":"getOffenderRegistrationsByOffenderId","operationId":"getOffenderRegistrationsByOffenderIdUsingGET","produces":["application/json"],"parameters":[{"name":"offenderId","in":"path","description":"offenderId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/Registration"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/offenders/offenderId/{offenderId}/userAccess":{"get":{"tags":["Offenders resources"],"summary":"checkUserAccessByOffenderId","operationId":"checkUserAccessByOffenderIdUsingGET","produces":["application/json"],"parameters":[{"name":"offenderId","in":"path","description":"offenderId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"User has unrestricted access to offender","schema":{"$ref":"#/definitions/AccessLimitation"}},"401":{"description":"Request is missing Authorization header (no JWT)"},"403":{"description":"User is restricted from access to offender","schema":{"$ref":"#/definitions/AccessLimitation"}},"404":{"description":"No such offender, or no such User (see body for detail)"}},"deprecated":false}},"/api/offenders/offenderIds":{"get":{"tags":["Offenders resources"],"summary":"getOffenderIds","operationId":"getOffenderIdsUsingGET","produces":["application/json"],"parameters":[{"name":"page","in":"query","description":"page","required":false,"type":"integer","default":1,"format":"int32"},{"name":"pageSize","in":"query","description":"pageSize","required":false,"type":"integer","default":1000,"format":"int32","allowEmptyValue":false}],"responses":{"200":{"description":"Happy path","schema":{"$ref":"#/definitions/OffenderIdsResource"}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/ping":{"get":{"tags":["Legacy Health Checks"],"summary":"ping","operationId":"pingUsingGET","produces":["text/plain"],"responses":{"200":{"description":"OK","schema":{"type":"string"}}},"deprecated":false}},"/api/probationAreas":{"get":{"tags":["Reference data"],"summary":"getProbationAreas","operationId":"getProbationAreasUsingGET","produces":["application/json"],"parameters":[{"name":"active","in":"query","description":"active","required":false,"type":"boolean"},{"name":"codes","in":"query","description":"codes","required":false,"type":"array","items":{"type":"string"},"collectionFormat":"multi"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/ProbationArea"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/probationAreas/code/{code}":{"get":{"tags":["Reference data"],"summary":"getProbationAreasForCode","operationId":"getProbationAreasForCodeUsingGET","produces":["application/json"],"parameters":[{"name":"active","in":"query","description":"active","required":false,"type":"boolean"},{"name":"code","in":"path","description":"code","required":true,"type":"string"}],"responses":{"200":{"description":"Happy path","schema":{"type":"array","items":{"$ref":"#/definitions/ProbationArea"}}},"401":{"description":"User JWT is missing"},"403":{"description":"User JWT has failed validation"},"404":{"description":"Entity not found"}},"deprecated":false}},"/api/staff/staffCode/{staffCode}/managedOffenders":{"get":{"tags":["Staff"],"summary":"getManagedOffendersByStaffCode","operationId":"getManagedOffendersByStaffCodeUsingGET","produces":["application/json"],"parameters":[{"name":"current","in":"query","description":"current","required":false,"type":"boolean","default":false},{"name":"staffCode","in":"path","description":"staffCode","required":true,"type":"string"}],"responses":{"200":{"description":"A list of managed offenders for a staff officer","schema":{"type":"array","items":{"$ref":"#/definitions/ManagedOffender"}}},"401":{"description":"Request is missing Authorization header (no JWT)"},"403":{"description":"The requesting user was restricted from access","schema":{"$ref":"#/definitions/AccessLimitation"}},"404":{"description":"The requested staffCode was not found"}},"deprecated":false}},"/health":{"get":{"tags":["operation-handler"],"summary":"handle","operationId":"handleUsingGET_1","produces":["application/vnd.spring-boot.actuator.v3+json","application/json","application/vnd.spring-boot.actuator.v2+json"],"parameters":[{"in":"body","name":"body","description":"body","required":false,"schema":{"type":"object","additionalProperties":{"type":"string"}}}],"responses":{"200":{"description":"OK","schema":{"type":"object"}}},"deprecated":false}},"/health/**":{"get":{"tags":["operation-handler"],"summary":"handle","operationId":"handleUsingGET","produces":["application/vnd.spring-boot.actuator.v3+json","application/json","application/vnd.spring-boot.actuator.v2+json"],"parameters":[{"in":"body","name":"body","description":"body","required":false,"schema":{"type":"object","additionalProperties":{"type":"string"}}}],"responses":{"200":{"description":"OK","schema":{"type":"object"}}},"deprecated":false}},"/info":{"get":{"tags":["operation-handler"],"summary":"handle","operationId":"handleUsingGET_2","produces":["application/vnd.spring-boot.actuator.v3+json","application/json","application/vnd.spring-boot.actuator.v2+json"],"parameters":[{"in":"body","name":"body","description":"body","required":false,"schema":{"type":"object","additionalProperties":{"type":"string"}}}],"responses":{"200":{"description":"OK","schema":{"type":"object"}}},"deprecated":false}},"/ping":{"get":{"tags":["operation-handler"],"summary":"handle","operationId":"handleUsingGET_3","produces":["text/plain"],"parameters":[{"in":"body","name":"body","description":"body","required":false,"schema":{"type":"object","additionalProperties":{"type":"string"}}}],"responses":{"200":{"description":"OK","schema":{"type":"object"}}},"deprecated":false}},"/secure/authenticate":{"post":{"tags":["Authentication"],"summary":"Authenticate a username and password against Delius Identity (LDAP)","operationId":"authenticateUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"authUser","description":"Authentication Details","required":true,"schema":{"$ref":"#/definitions/AuthUser"}}],"responses":{"200":{"description":"OK"},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/nomisCaseNotes/{nomisId}/{caseNotesId}":{"put":{"tags":["case notes"],"summary":"Adds case note to delius","operationId":"upsertCaseNotesToDeliusUsingPUT","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"caseNote","description":"caseNote","required":true,"schema":{"type":"string"}},{"name":"caseNotesId","in":"path","description":"caseNotesId","required":true,"type":"integer","format":"int64"},{"name":"nomisId","in":"path","description":"nomisId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"string"}},"201":{"description":"Created","schema":{"type":"string"}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/offenderDeltaIds":{"get":{"tags":["Offender Events (Secure)"],"summary":"Returns a list of offender IDs which have be inserted/updated or deleted","operationId":"getOffenderDeltasUsingGET_1","produces":["application/json"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/OffenderDelta"}}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false},"delete":{"tags":["Offender Events (Secure)"],"summary":"Deletes delta data before the date supplied","operationId":"deleteOffenderDeltasUsingDELETE_1","produces":["application/json"],"parameters":[{"name":"before","in":"query","description":"Delete records before the date time provided","required":true,"type":"string","format":"date-time","allowEmptyValue":false,"x-example":"2019-03-02T16:45:00.000Z"}],"responses":{"200":{"description":"OK"},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/offenders/crn/{crn}":{"get":{"tags":["Offender resources (Secure)"],"summary":"Returns the offender summary for the given crn","operationId":"getOffenderSummaryByCrnUsingGET_1","produces":["application/json"],"parameters":[{"name":"crn","in":"path","description":"crn","required":true,"type":"string"}],"responses":{"200":{"description":"The offender summary","schema":{"$ref":"#/definitions/OffenderDetailSummary"}},"401":{"description":"Request is missing Authorization header (no JWT)"},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"The offender not found"}},"deprecated":false}},"/secure/offenders/crn/{crn}/all":{"get":{"tags":["Offender resources (Secure)"],"summary":"Returns the full offender detail for the given crn","operationId":"getOffenderDetailByCrnUsingGET","produces":["application/json"],"parameters":[{"name":"crn","in":"path","description":"crn","required":true,"type":"string"}],"responses":{"200":{"description":"The offender details","schema":{"$ref":"#/definitions/OffenderDetail"}},"401":{"description":"Request is missing Authorization header (no JWT)"},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"The offender is not found"}},"deprecated":false}},"/secure/offenders/crn/{crn}/convictions":{"get":{"tags":["Offender resources (Secure)"],"summary":"Return the convictions (AKA Delius Event) for an offender","operationId":"getConvictionsForOffenderByCrnUsingGET","produces":["application/json"],"parameters":[{"name":"crn","in":"path","description":"CRN for the offender","required":true,"type":"string","x-example":"A123456"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/Conviction"}}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"The offender is not found","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/offenders/crn/{crn}/convictions/{convictionId}":{"get":{"tags":["Offender resources (Secure)"],"summary":"Return the conviction (AKA Delius Event) for a conviction ID and a CRN","operationId":"getConvictionForOffenderByCrnAndConvictionIdUsingGET","produces":["application/json"],"parameters":[{"name":"convictionId","in":"path","description":"ID for the conviction / event","required":true,"type":"integer","format":"int64","x-example":2500295345},{"name":"crn","in":"path","description":"CRN for the offender","required":true,"type":"string","x-example":"A123456"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Conviction"}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"The offender CRN or conviction ID is not found","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/offenders/crn/{crn}/convictions/{convictionId}/attendances":{"get":{"tags":["Attendance resources (Secure)"],"summary":"Return the attendances for a CRN and a conviction id where enforcement is flagged","operationId":"getAttendancesUsingGET","produces":["application/json"],"parameters":[{"name":"convictionId","in":"path","description":"convictionId","required":true,"type":"integer","format":"int64"},{"name":"crn","in":"path","description":"crn","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/Attendance"}}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/offenders/crn/{crn}/convictions/{convictionId}/nsis":{"get":{"tags":["Offender resources (Secure)"],"summary":"Return the NSIs for a conviction ID and a CRN, filtering by NSI codes","operationId":"getNsiForOffenderByCrnAndConvictionIdUsingGET","produces":["application/json"],"parameters":[{"name":"convictionId","in":"path","description":"ID for the conviction / event","required":true,"type":"integer","format":"int64","x-example":2500295345},{"name":"crn","in":"path","description":"CRN for the offender","required":true,"type":"string","x-example":"A123456"},{"name":"nsiCodes","in":"query","description":"list of NSI codes to constrain by","required":true,"type":"array","items":{"type":"string"},"collectionFormat":"multi","allowEmptyValue":false}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/NsiWrapper"}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"The offender CRN is not found","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/offenders/crn/{crn}/convictions/{convictionId}/nsis/{nsiId}":{"get":{"tags":["Offender resources (Secure)"],"summary":"Return an NSI by crn, convictionId and nsiId","operationId":"getNsiByNsiIdUsingGET","produces":["application/json"],"parameters":[{"name":"convictionId","in":"path","description":"ID for the conviction / event","required":true,"type":"integer","format":"int64","x-example":2500295345},{"name":"crn","in":"path","description":"CRN for the offender","required":true,"type":"string","x-example":"A123456"},{"name":"nsiId","in":"path","description":"ID for the nsi","required":true,"type":"integer","format":"int64","x-example":2500295123}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Nsi"}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"The offender CRN is not found","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/offenders/crn/{crn}/convictions/{convictionId}/requirements":{"get":{"tags":["Requirements resources (Secure)"],"summary":"Returns the requirements for a conviction","operationId":"getRequirementsByConvictionIdUsingGET","produces":["application/json"],"parameters":[{"name":"convictionId","in":"path","description":"convictionId","required":true,"type":"integer","format":"int64"},{"name":"crn","in":"path","description":"crn","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/ConvictionRequirements"}}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/offenders/crn/{crn}/custody/keyDates":{"get":{"tags":["OMiC","Offender custody key dates"],"summary":"Gets a all custody key dates for the active custodial conviction","operationId":"getAllCustodyKeyDateByCrnUsingGET","produces":["application/json"],"parameters":[{"name":"crn","in":"path","description":"crn","required":true,"type":"string"}],"responses":{"200":{"description":"The custody key dates","schema":{"type":"array","items":{"$ref":"#/definitions/CustodyKeyDate"}}},"400":{"description":"The the offender does not have a single custody event"},"401":{"description":"Request is missing Authorization header (no JWT)"},"404":{"description":"The requested offender was not found."}},"deprecated":false}},"/secure/offenders/crn/{crn}/custody/keyDates/{typeCode}":{"get":{"tags":["OMiC","Offender custody key dates"],"summary":"Gets a custody key date for the active custodial conviction","operationId":"getCustodyKeyDateByCrnUsingGET","produces":["application/json"],"parameters":[{"name":"crn","in":"path","description":"crn","required":true,"type":"string"},{"name":"typeCode","in":"path","description":"typeCode","required":true,"type":"string"}],"responses":{"200":{"description":"The custody key date","schema":{"$ref":"#/definitions/CustodyKeyDate"}},"400":{"description":"The keyDate is not valid or a key date can not be retrieved for an offender which does not have a single custody event"},"401":{"description":"Request is missing Authorization header (no JWT)"},"404":{"description":"The requested offender was not found or does not have the supplied key date type."}},"deprecated":false},"put":{"tags":["OMiC","Offender custody key dates"],"summary":"Adds or replaces a custody key date for the active custodial conviction","operationId":"putCustodyKeyDateByCrnUsingPUT","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"crn","in":"path","description":"crn","required":true,"type":"string"},{"in":"body","name":"custodyKeyDate","description":"custodyKeyDate","required":true,"schema":{"$ref":"#/definitions/CreateCustodyKeyDate"}},{"name":"typeCode","in":"path","description":"typeCode","required":true,"type":"string"}],"responses":{"200":{"description":"The new or updated custody key date","schema":{"$ref":"#/definitions/CustodyKeyDate"}},"400":{"description":"The keyDate is not valid or a key date can not be added to an offender which does not have a single custody event"},"401":{"description":"Request is missing Authorization header (no JWT)"},"404":{"description":"The requested offender was not found."}},"deprecated":false},"delete":{"tags":["OMiC","Offender custody key dates"],"summary":"Deletes the custody key date for the active custodial conviction","operationId":"deleteCustodyKeyDateByCrnUsingDELETE","produces":["application/json"],"parameters":[{"name":"crn","in":"path","description":"crn","required":true,"type":"string"},{"name":"typeCode","in":"path","description":"typeCode","required":true,"type":"string"}],"responses":{"200":{"description":"Key date has been deleted"},"400":{"description":"The keyDate is not valid or a key date can not be deleted from an offender which does not have a single custody event"},"401":{"description":"Request is missing Authorization header (no JWT)"},"404":{"description":"The requested offender was not found."}},"deprecated":false}},"/secure/offenders/crn/{crn}/documents/grouped":{"get":{"tags":["Offender resources (Secure)"],"summary":"Returns all documents' meta data for an offender by CRN","operationId":"getOffenderDocumentsByCrnUsingGET","produces":["application/json"],"parameters":[{"name":"crn","in":"path","description":"CRN for the offender","required":true,"type":"string","x-example":"X340906"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/OffenderDocuments"}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"Not Found. For example if the CRN is not known.","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/offenders/crn/{crn}/documents/{documentId}":{"get":{"tags":["Offender resources (Secure)"],"summary":"Returns the document contents meta data for a given document associated with an offender","operationId":"getOffenderDocumentByCrnUsingGET_1","produces":["application/json"],"parameters":[{"name":"crn","in":"path","description":"CRN for the offender","required":true,"type":"string","x-example":"G9542VP"},{"name":"documentId","in":"path","description":"Document Id","required":true,"type":"string","x-example":"12312322"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Resource"}}},"deprecated":false}},"/secure/offenders/crn/{crn}/identifiers":{"get":{"tags":["Offender identifiers resource (Secure)"],"summary":"Return the identifiers for an offender using the crn","description":"requires ROLE_COMMUNITY","operationId":"getOffenderIdentifiersByCrnUsingGET","produces":["application/json"],"parameters":[{"name":"crn","in":"path","description":"crn","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/OffenderIdentifiers"}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"Offender not found","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/offenders/crn/{crn}/nomsNumber":{"put":{"tags":["Custody resource"],"summary":"Updates the offender record with the NOMS number in UpdateOffenderNomsNumber","operationId":"updateOffenderNomsNumberUsingPUT","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"crn","in":"path","description":"crn","required":true,"type":"string"},{"in":"body","name":"updateOffenderNomsNumber","description":"updateOffenderNomsNumber","required":true,"schema":{"$ref":"#/definitions/UpdateOffenderNomsNumber"}}],"responses":{"200":{"description":"The offender record was updated","schema":{"$ref":"#/definitions/IDs"}},"401":{"description":"Request is missing Authorization header (no JWT)"},"404":{"description":"The requested offender was not found"}},"deprecated":false}},"/secure/offenders/crn/{crn}/personalCircumstances":{"get":{"tags":["Offender personal circumstance resource (Secure)"],"summary":"Return the personal circumstances for an offender using crn","description":"requires ROLE_COMMUNITY","operationId":"getOffenderPersonalCircumstancesByCrnUsingGET_1","produces":["application/json"],"parameters":[{"name":"crn","in":"path","description":"crn","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PersonalCircumstances"}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"Offender not found","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/offenders/crn/{crn}/registrations":{"get":{"tags":["Offender registrations resource (Secure)"],"summary":"Return the registrations for an offender using the crn","description":"requires ROLE_COMMUNITY","operationId":"getOffenderRegistrationsByCrnUsingGET_1","produces":["application/json"],"parameters":[{"name":"crn","in":"path","description":"crn","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Registrations"}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"Offender not found","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/offenders/crn/{crn}/release":{"get":{"tags":["Offender resources (Secure)"],"summary":"Returns the latest recall and release details for an offender","description":"Accepts an offender CRN in the format A999999","operationId":"getLatestRecallAndReleaseForOffenderByCrnUsingGET","produces":["application/json"],"parameters":[{"name":"crn","in":"path","description":"CRN for the offender","required":true,"type":"string","x-example":"X320741"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/OffenderLatestRecall"}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/offenders/nomsNumber/{nomsNumber}":{"get":{"tags":["Offender resources (Secure)"],"summary":"Return the details for an offender","operationId":"getOffenderDetailsUsingGET","produces":["application/json"],"parameters":[{"name":"nomsNumber","in":"path","description":"Nomis number for the offender","required":true,"type":"string","x-example":"G9542VP"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/OffenderDetailSummary"}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/offenders/nomsNumber/{nomsNumber}/all":{"get":{"tags":["Offender resources (Secure)"],"summary":"Returns the full offender detail for the given nomsNumber","operationId":"getOffenderDetailByNomsNumberUsingGET","produces":["application/json"],"parameters":[{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"}],"responses":{"200":{"description":"The offender details","schema":{"$ref":"#/definitions/OffenderDetail"}},"401":{"description":"Request is missing Authorization header (no JWT)"},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"The offender is not found"}},"deprecated":false}},"/secure/offenders/nomsNumber/{nomsNumber}/allOffenderManagers":{"get":{"tags":["Offender resources (Secure)"],"summary":"Returns the current community and prison offender managers for an offender","description":"Accepts a NOMIS offender nomsNumber in the format A9999AA","operationId":"getAllOffenderManagersForOffenderUsingGET","produces":["application/json"],"parameters":[{"name":"nomsNumber","in":"path","description":"Nomis number for the offender","required":true,"type":"string","x-example":"G9542VP"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/CommunityOrPrisonOffenderManager"}}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/offenders/nomsNumber/{nomsNumber}/bookingNumber/{bookingNumber}/custody/keyDates":{"post":{"tags":["OMiC","Offender custody key dates"],"summary":"Replaces all key dates specified in body. Key dates are either added or replaced or deleted if absent (see ReplaceCustodyKeyDates for the list). The the custodial conviction must be active","operationId":"replaceAllCustodyKeyDateByNomsNumberAndBookingNumberUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"bookingNumber","in":"path","description":"bookingNumber","required":true,"type":"string"},{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"},{"in":"body","name":"replaceCustodyKeyDates","description":"replaceCustodyKeyDates","required":true,"schema":{"$ref":"#/definitions/ReplaceCustodyKeyDates"}}],"responses":{"200":{"description":"The new or updated custody key dates","schema":{"$ref":"#/definitions/Custody"}},"401":{"description":"Request is missing Authorization header (no JWT)"},"404":{"description":"The requested offender or conviction was not found."}},"deprecated":false}},"/secure/offenders/nomsNumber/{nomsNumber}/contacts":{"get":{"tags":["Offender resources (Secure)"],"summary":"Returns the contact details for an offender","operationId":"getOffenderContactReportByNomsNumberUsingGET_1","produces":["application/json"],"parameters":[{"name":"contactTypes","in":"query","description":"contactTypes","required":false,"type":"array","items":{"type":"string"},"collectionFormat":"multi"},{"name":"from","in":"query","description":"from","required":false,"type":"string"},{"name":"nomsNumber","in":"path","description":"Nomis number for the offender","required":true,"type":"string","x-example":"G9542VP"},{"name":"to","in":"query","description":"to","required":false,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/Contact"}}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/offenders/nomsNumber/{nomsNumber}/convictions":{"get":{"tags":["Offender resources (Secure)"],"summary":"Return the convictions (AKA Delius Event) for an offender","operationId":"getConvictionsForOffenderUsingGET","produces":["application/json"],"parameters":[{"name":"nomsNumber","in":"path","description":"Nomis number for the offender","required":true,"type":"string","x-example":"G9542VP"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/Conviction"}}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/offenders/nomsNumber/{nomsNumber}/custody/bookingNumber":{"put":{"tags":["Custody resource"],"summary":"Updates the associated custody record with booking number in UpdateCustodyBookingNumber","operationId":"updateCustodyBookingNumberUsingPUT","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"},{"in":"body","name":"updateCustodyBookingNumber","description":"updateCustodyBookingNumber","required":true,"schema":{"$ref":"#/definitions/UpdateCustodyBookingNumber"}}],"responses":{"200":{"description":"The custody record was updated","schema":{"$ref":"#/definitions/Custody"}},"400":{"description":"The booking number custody request is invalid"},"401":{"description":"Request is missing Authorization header (no JWT)"},"404":{"description":"Either the requested offender was not found or the conviction associated the sentence start date"}},"deprecated":false}},"/secure/offenders/nomsNumber/{nomsNumber}/custody/bookingNumber/{bookingNumber}":{"put":{"tags":["Custody resource"],"summary":"Updates the associated custody record with changes defined in UpdateCustody","operationId":"updateCustodyUsingPUT","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"bookingNumber","in":"path","description":"bookingNumber","required":true,"type":"string"},{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"},{"in":"body","name":"updateCustody","description":"updateCustody","required":true,"schema":{"$ref":"#/definitions/UpdateCustody"}}],"responses":{"200":{"description":"The custody record was updated","schema":{"$ref":"#/definitions/Custody"}},"400":{"description":"The custody request is invalid"},"401":{"description":"Request is missing Authorization header (no JWT)"},"404":{"description":"Either the requested offender was not found or the conviction associated the booking number."}},"deprecated":false}},"/secure/offenders/nomsNumber/{nomsNumber}/custody/keyDates":{"get":{"tags":["OMiC","Offender custody key dates"],"summary":"Gets a all custody key dates for the active custodial conviction","operationId":"getAllCustodyKeyDateByNomsNumberUsingGET","produces":["application/json"],"parameters":[{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"}],"responses":{"200":{"description":"The custody key dates","schema":{"type":"array","items":{"$ref":"#/definitions/CustodyKeyDate"}}},"400":{"description":"The the offender does not have a single custody event"},"401":{"description":"Request is missing Authorization header (no JWT)"},"404":{"description":"The requested offender was not found."}},"deprecated":false}},"/secure/offenders/nomsNumber/{nomsNumber}/custody/keyDates/{typeCode}":{"get":{"tags":["OMiC","Offender custody key dates"],"summary":"Gets a custody key date for the active custodial conviction","operationId":"getCustodyKeyDateByNomsNumberUsingGET","produces":["application/json"],"parameters":[{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"},{"name":"typeCode","in":"path","description":"typeCode","required":true,"type":"string"}],"responses":{"200":{"description":"The custody key date","schema":{"$ref":"#/definitions/CustodyKeyDate"}},"400":{"description":"The keyDate is not valid or a key date can not be retrieved for an offender which does not have a single custody event"},"401":{"description":"Request is missing Authorization header (no JWT)"},"404":{"description":"The requested offender was not found or does not have the supplied key date type."}},"deprecated":false},"put":{"tags":["OMiC","Offender custody key dates"],"summary":"Adds or replaces a custody key date for the active custodial conviction","operationId":"putCustodyKeyDateByNomsNumberUsingPUT","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"custodyKeyDate","description":"custodyKeyDate","required":true,"schema":{"$ref":"#/definitions/CreateCustodyKeyDate"}},{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"},{"name":"typeCode","in":"path","description":"typeCode","required":true,"type":"string"}],"responses":{"200":{"description":"The new or updated custody key date","schema":{"$ref":"#/definitions/CustodyKeyDate"}},"400":{"description":"The keyDate is not valid or a key date can not be added to an offender which does not have a single custody event"},"401":{"description":"Request is missing Authorization header (no JWT)"},"404":{"description":"The requested offender was not found."}},"deprecated":false},"delete":{"tags":["OMiC","Offender custody key dates"],"summary":"Deletes the custody key date for the active custodial conviction","operationId":"deleteCustodyKeyDateByNomsNumberUsingDELETE","produces":["application/json"],"parameters":[{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"},{"name":"typeCode","in":"path","description":"typeCode","required":true,"type":"string"}],"responses":{"200":{"description":"Key date has been deleted"},"400":{"description":"The keyDate is not valid or a key date can not be deleted from an offender which does not have a single custody event"},"401":{"description":"Request is missing Authorization header (no JWT)"},"404":{"description":"The requested offender was not found."}},"deprecated":false}},"/secure/offenders/nomsNumber/{nomsNumber}/documents/grouped":{"get":{"tags":["Offender resources (Secure)"],"summary":"Returns all document's meta data for an offender by NOMS number","operationId":"getOffenderDocumentsUsingGET","produces":["application/json"],"parameters":[{"name":"nomsNumber","in":"path","description":"Nomis number for the offender","required":true,"type":"string","x-example":"G9542VP"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/OffenderDocuments"}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/offenders/nomsNumber/{nomsNumber}/documents/{documentId}":{"get":{"tags":["Offender resources (Secure)"],"summary":"Returns the document contents meta data for a given document associated with an offender","operationId":"getOffenderDocumentUsingGET","produces":["application/json"],"parameters":[{"name":"documentId","in":"path","description":"Document Id","required":true,"type":"string","x-example":"12312322"},{"name":"nomsNumber","in":"path","description":"Nomis number for the offender","required":true,"type":"string","x-example":"G9542VP"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Resource"}}},"deprecated":false}},"/secure/offenders/nomsNumber/{nomsNumber}/identifiers":{"get":{"tags":["Offender identifiers resource (Secure)"],"summary":"Return the identifiers for an offender using NOMS number","description":"requires ROLE_COMMUNITY","operationId":"getOffenderIdentifiersByNomsNumberUsingGET","produces":["application/json"],"parameters":[{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/OffenderIdentifiers"}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"Offender not found","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/offenders/nomsNumber/{nomsNumber}/personalCircumstances":{"get":{"tags":["Offender personal circumstance resource (Secure)"],"summary":"Return the personal circumstances for an offender using noms number","description":"requires ROLE_COMMUNITY","operationId":"getOffenderPersonalCircumstancesByNomsNumberUsingGET_1","produces":["application/json"],"parameters":[{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PersonalCircumstances"}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"Offender not found","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/offenders/nomsNumber/{nomsNumber}/prisonOffenderManager":{"put":{"tags":["Offender resources (Secure)"],"summary":"Allocates the prison offender manager for an offender in custody. This operation may also have a side affect of creating a Staff member if one matching the name does not already exist. An existing staff member can be used if the staff code is supplied.","operationId":"allocatePrisonOffenderManagerByNomsNumberUsingPUT","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"},{"in":"body","name":"prisonOffenderManager","description":"prisonOffenderManager","required":true,"schema":{"$ref":"#/definitions/CreatePrisonOffenderManager"}}],"responses":{"200":{"description":"The new prison offender manager","schema":{"$ref":"#/definitions/CommunityOrPrisonOffenderManager"}},"400":{"description":"Staff code does belong to the probation area related prison institution"},"401":{"description":"Request is missing Authorization header (no JWT)"},"404":{"description":"The offender or prison institution is not found"}},"deprecated":false}},"/secure/offenders/nomsNumber/{nomsNumber}/registrations":{"get":{"tags":["Offender registrations resource (Secure)"],"summary":"Return the registrations for an offender using NOMS number","description":"requires ROLE_COMMUNITY","operationId":"getOffenderRegistrationsByNomsNumberUsingGET_1","produces":["application/json"],"parameters":[{"name":"nomsNumber","in":"path","description":"nomsNumber","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Registrations"}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"Offender not found","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/offenders/nomsNumber/{nomsNumber}/release":{"get":{"tags":["Offender resources (Secure)"],"summary":"Returns the latest recall and release details for an offender","description":"Accepts a NOMIS offender nomsNumber in the format A9999AA","operationId":"getLatestRecallAndReleaseForOffenderUsingGET","produces":["application/json"],"parameters":[{"name":"nomsNumber","in":"path","description":"Nomis number for the offender","required":true,"type":"string","x-example":"G9542VP"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/OffenderLatestRecall"}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/offenders/nomsNumber/{nomsNumber}/responsibleOfficers":{"get":{"tags":["Offender resources (Secure)"],"summary":"Return the responsible officer (RO) for an offender","description":"Accepts a NOMIS offender nomsNumber in the format A9999AA","operationId":"getResponsibleOfficersForOffenderUsingGET","produces":["application/json"],"parameters":[{"name":"current","in":"query","description":"Current only","required":false,"type":"boolean","default":false,"allowEmptyValue":false,"x-example":false},{"name":"nomsNumber","in":"path","description":"Nomis number for the offender","required":true,"type":"string","x-example":"G9542VP"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/ResponsibleOfficer"}}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/offenders/nomsNumber/{originalNomsNumber}/nomsNumber":{"put":{"tags":["Custody resource"],"summary":"Updates the offender record(s) with the new NOMS number in UpdateOffenderNomsNumber replacing the existing number.","description":"In the very rare circumstances more than one offender is found with matching noms number, all will be updated and their identifiers returned.","operationId":"replaceOffenderNomsNumberUsingPUT","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"originalNomsNumber","in":"path","description":"originalNomsNumber","required":true,"type":"string"},{"in":"body","name":"updateOffenderNomsNumber","description":"updateOffenderNomsNumber","required":true,"schema":{"$ref":"#/definitions/UpdateOffenderNomsNumber"}}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/IDs"}}},"400":{"description":"The new noms number is not present in request"},"401":{"description":"Request is missing Authorization header (no JWT)"},"403":{"description":"Missing required role for this operation"},"404":{"description":"The requested offender was not found"},"409":{"description":"The new noms number is assigned to an existing offender already"}},"deprecated":false}},"/secure/offenders/offenderId/{offenderId}/custody/keyDates":{"get":{"tags":["OMiC","Offender custody key dates"],"summary":"Gets a all custody key dates for the active custodial conviction","operationId":"getAllCustodyKeyDateByOffenderIdUsingGET","produces":["application/json"],"parameters":[{"name":"offenderId","in":"path","description":"offenderId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"The custody key dates","schema":{"type":"array","items":{"$ref":"#/definitions/CustodyKeyDate"}}},"400":{"description":"The the offender does not have a single custody event"},"401":{"description":"Request is missing Authorization header (no JWT)"},"404":{"description":"The requested offender was not found."}},"deprecated":false}},"/secure/offenders/offenderId/{offenderId}/custody/keyDates/{typeCode}":{"get":{"tags":["OMiC","Offender custody key dates"],"summary":"Gets a custody key date for the active custodial conviction","operationId":"getCustodyKeyDateByOffenderIdUsingGET","produces":["application/json"],"parameters":[{"name":"offenderId","in":"path","description":"offenderId","required":true,"type":"integer","format":"int64"},{"name":"typeCode","in":"path","description":"typeCode","required":true,"type":"string"}],"responses":{"200":{"description":"The custody key date","schema":{"$ref":"#/definitions/CustodyKeyDate"}},"400":{"description":"The keyDate is not valid or a key date can not be retrieved for an offender which does not have a single custody event"},"401":{"description":"Request is missing Authorization header (no JWT)"},"404":{"description":"The requested offender was not found or does not have the supplied key date type."}},"deprecated":false},"put":{"tags":["OMiC","Offender custody key dates"],"summary":"Adds or replaces a custody key date for the active custodial conviction","operationId":"putCustodyKeyDateByOffenderIdUsingPUT","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"custodyKeyDate","description":"custodyKeyDate","required":true,"schema":{"$ref":"#/definitions/CreateCustodyKeyDate"}},{"name":"offenderId","in":"path","description":"offenderId","required":true,"type":"integer","format":"int64"},{"name":"typeCode","in":"path","description":"typeCode","required":true,"type":"string"}],"responses":{"200":{"description":"The new or updated custody key date","schema":{"$ref":"#/definitions/CustodyKeyDate"}},"400":{"description":"The keyDate is not valid or a key date can not be added to an offender which does not have a single custody event"},"401":{"description":"Request is missing Authorization header (no JWT)"},"404":{"description":"The requested offender was not found."}},"deprecated":false},"delete":{"tags":["OMiC","Offender custody key dates"],"summary":"Deletes the custody key date for the active custodial conviction","operationId":"deleteCustodyKeyDateByOffenderIdUsingDELETE","produces":["application/json"],"parameters":[{"name":"offenderId","in":"path","description":"offenderId","required":true,"type":"integer","format":"int64"},{"name":"typeCode","in":"path","description":"typeCode","required":true,"type":"string"}],"responses":{"200":{"description":"Key date has been deleted"},"400":{"description":"The keyDate is not valid or a key date can not be deleted from an offender which does not have a single custody event"},"401":{"description":"Request is missing Authorization header (no JWT)"},"404":{"description":"The requested offender was not found."}},"deprecated":false}},"/secure/offenders/offenderId/{offenderId}/identifiers":{"get":{"tags":["Offender identifiers resource (Secure)"],"summary":"Return the identifiers for an offender using offenderId","description":"requires ROLE_COMMUNITY","operationId":"getOffenderIdentifiersByOffenderIdUsingGET","produces":["application/json"],"parameters":[{"name":"offenderId","in":"path","description":"offenderId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/OffenderIdentifiers"}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"Offender not found","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/offenders/offenderId/{offenderId}/personalCircumstances":{"get":{"tags":["Offender personal circumstance resource (Secure)"],"summary":"Return the personal circumstances for an offender using offenderId","description":"requires ROLE_COMMUNITY","operationId":"getOffenderPersonalCircumstancesByOffenderIdUsingGET_1","produces":["application/json"],"parameters":[{"name":"offenderId","in":"path","description":"offenderId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PersonalCircumstances"}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"Offender not found","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/offenders/offenderId/{offenderId}/registrations":{"get":{"tags":["Offender registrations resource (Secure)"],"summary":"Return the registrations for an offender using offenderId","description":"requires ROLE_COMMUNITY","operationId":"getOffenderRegistrationsByOffenderIdUsingGET_1","produces":["application/json"],"parameters":[{"name":"offenderId","in":"path","description":"offenderId","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Registrations"}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"Offender not found","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/offenders/primaryIdentifiers":{"get":{"tags":["Offender resources (Secure)"],"summary":"Return pageable list of all offender identifiers that match the supplied filter","operationId":"getOffenderIdsUsingGET_1","produces":["application/json"],"parameters":[{"name":"activeDate","in":"query","description":"Filter by offenders that were active on the supplied date. Advised not to use this in conjunction with includeActiveOnly since that will effectively return offenders active of this supplied date and current date which is typically not what is required.","required":false,"type":"string","format":"date","x-example":"2017-10-31"},{"name":"includeActiveOnly","in":"query","description":"Filter by offenders that are active, i.e. offenders on a sentence that probation has an interest in.","required":false,"type":"boolean","x-example":true},{"name":"includeDeleted","in":"query","description":"Include deleted offenders","required":false,"type":"boolean","x-example":true},{"name":"offset","in":"query","required":false,"type":"integer","format":"int64"},{"name":"page","in":"query","description":"Results page you want to retrieve (0..N)","required":false,"type":"integer","default":0,"format":"int32","x-example":0},{"name":"pageNumber","in":"query","required":false,"type":"integer","format":"int32"},{"name":"pageSize","in":"query","required":false,"type":"integer","format":"int32"},{"name":"paged","in":"query","required":false,"type":"boolean"},{"name":"size","in":"query","description":"Number of records per page.","required":false,"type":"integer","default":10,"format":"int32","x-example":10},{"name":"sort","in":"query","description":"Sort column and direction. Multiple sort params allowed.","required":false,"type":"string","default":"crn,asc","x-example":"crn,desc"},{"name":"sort.sorted","in":"query","required":false,"type":"boolean"},{"name":"sort.unsorted","in":"query","required":false,"type":"boolean"},{"name":"unpaged","in":"query","required":false,"type":"boolean"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PageOfPrimaryIdentifiers"}}},"deprecated":false}},"/secure/offenders/prisonBookingNumber/{prisonBookingNumber}/custody/keyDates":{"get":{"tags":["OMiC","Offender custody key dates"],"summary":"Gets a all custody key dates for the active custodial conviction","operationId":"getAllCustodyKeyDateByPrisonBookingNumberUsingGET","produces":["application/json"],"parameters":[{"name":"prisonBookingNumber","in":"path","description":"prisonBookingNumber","required":true,"type":"string"}],"responses":{"200":{"description":"The custody key dates","schema":{"type":"array","items":{"$ref":"#/definitions/CustodyKeyDate"}}},"400":{"description":"The the offender does not have a single custody event"},"401":{"description":"Request is missing Authorization header (no JWT)"},"404":{"description":"The requested offender was not found."}},"deprecated":false}},"/secure/offenders/prisonBookingNumber/{prisonBookingNumber}/custody/keyDates/{typeCode}":{"get":{"tags":["OMiC","Offender custody key dates"],"summary":"Gets a custody key date for the related custodial conviction with the matching prison booking","operationId":"getCustodyKeyDateByPrisonBookingNumberUsingGET","produces":["application/json"],"parameters":[{"name":"prisonBookingNumber","in":"path","description":"prisonBookingNumber","required":true,"type":"string"},{"name":"typeCode","in":"path","description":"typeCode","required":true,"type":"string"}],"responses":{"200":{"description":"The custody key date","schema":{"$ref":"#/definitions/CustodyKeyDate"}},"400":{"description":"The keyDate is not valid or a key date can not be retrieved for an offender which does not have a single custody event"},"401":{"description":"Request is missing Authorization header (no JWT)"},"404":{"description":"The requested offender was not found or does not have the supplied key date type."}},"deprecated":false},"put":{"tags":["OMiC","Offender custody key dates"],"summary":"Adds or replaces a custody key date for the active custodial conviction","operationId":"putCustodyKeyDateByPrisonBookingNumberUsingPUT","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"custodyKeyDate","description":"custodyKeyDate","required":true,"schema":{"$ref":"#/definitions/CreateCustodyKeyDate"}},{"name":"prisonBookingNumber","in":"path","description":"prisonBookingNumber","required":true,"type":"string"},{"name":"typeCode","in":"path","description":"typeCode","required":true,"type":"string"}],"responses":{"200":{"description":"The new or updated custody key date","schema":{"$ref":"#/definitions/CustodyKeyDate"}},"400":{"description":"The keyDate is not valid or a key date can not be added to an offender which does not have a single custody event"},"401":{"description":"Request is missing Authorization header (no JWT)"},"404":{"description":"The requested conviction with associated prison booking was not found."}},"deprecated":false},"delete":{"tags":["OMiC","Offender custody key dates"],"summary":"Deletes the custody key date for the associated custodial conviction","operationId":"deleteCustodyKeyDateByPrisonBookingNumberUsingDELETE","produces":["application/json"],"parameters":[{"name":"prisonBookingNumber","in":"path","description":"prisonBookingNumber","required":true,"type":"string"},{"name":"typeCode","in":"path","description":"typeCode","required":true,"type":"string"}],"responses":{"200":{"description":"Key date has been deleted"},"400":{"description":"The keyDate is not valid"},"401":{"description":"Request is missing Authorization header (no JWT)"},"404":{"description":"The requested prison booking was not found."}},"deprecated":false}},"/secure/probationAreas":{"get":{"tags":["Reference Data API (Secure)"],"summary":"Return probation areas","description":"Accepts filtering to only return active areas","operationId":"getProbationAreaCodesUsingGET","produces":["application/json"],"parameters":[{"name":"active","in":"query","description":"Restricts to active areas only","required":false,"type":"boolean","allowEmptyValue":false,"x-example":true},{"name":"excludeEstablishments","in":"query","description":"Restricts to areas that are providers, no prisons will be returned","required":false,"type":"boolean","allowEmptyValue":false,"x-example":true}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PageOfKeyValue"}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/probationAreas/code/{code}/localDeliveryUnits":{"get":{"tags":["Reference Data API (Secure)"],"summary":"Return Local delivery units for a probation area","description":"Accepts a probation area code","operationId":"getLdusForProbationCodeUsingGET","produces":["application/json"],"parameters":[{"name":"code","in":"path","description":"Probation area code","required":true,"type":"string","x-example":"NO2"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PageOfKeyValue"}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"Not found","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/probationAreas/code/{code}/localDeliveryUnits/code/{lduCode}/teams":{"get":{"tags":["Reference Data API (Secure)"],"summary":"Return teams for a local delivery unit within a probation area","description":"Accepts a probation area code and local delivery unit code","operationId":"getTeamsForLduUsingGET","produces":["application/json"],"parameters":[{"name":"code","in":"path","description":"Probation area code","required":true,"type":"string","x-example":"NO2"},{"name":"lduCode","in":"path","description":"Local delivery unit code","required":true,"type":"string","x-example":"NO2NPSA"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PageOfKeyValue"}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"Not found","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/referenceData/set/{set}":{"get":{"tags":["Reference Data API (Secure)"],"summary":"Return the reference data items for the given set","operationId":"getReferenceDataUsingGET","produces":["application/json"],"parameters":[{"name":"set","in":"path","description":"The set of reference data","required":true,"type":"string","x-example":"ADDITIONAL IDENTIFIER TYPE"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ReferenceDataList"}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"Data set not found","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/referenceData/sets":{"get":{"tags":["Reference Data API (Secure)"],"summary":"Returns all available reference data sets","description":"It is expected that this API will be used to assist developers in understanding the available set codes available for /secure/referenceData/set/{set} endpoint","operationId":"getReferenceDataSetsUsingGET","produces":["application/json"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ReferenceDataSets"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/staff/list":{"post":{"tags":["Staff (Secure)"],"summary":"Returns a list of staff details for supplied usernames - POST version to allow large user lists.","description":"staff details for supplied usernames","operationId":"getStaffDetailsList","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"usernames","description":"usernames","required":true,"schema":{"type":"array","items":{"type":"string"}}}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/StaffDetails"}}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"Not found","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/staff/staffCode/{staffCode}":{"get":{"tags":["Staff (Secure)"],"summary":"Return details of a staff member including option user details","description":"Accepts a Delius staff officer code","operationId":"getStaffDetailsUsingGET","produces":["application/json"],"parameters":[{"name":"staffCode","in":"path","description":"Delius officer code","required":true,"type":"string","x-example":"SH0001"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/StaffDetails"}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"Not found","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/staff/staffCode/{staffCode}/managedOffenders":{"get":{"tags":["Staff (Secure)"],"summary":"Return list of of currently managed offenders for one responsible officer (RO)","description":"Accepts a Delius staff officer code","operationId":"getOffendersForResponsibleOfficerUsingGET","produces":["application/json"],"parameters":[{"name":"current","in":"query","description":"Current only","required":false,"type":"boolean","default":false,"allowEmptyValue":false,"x-example":false},{"name":"staffCode","in":"path","description":"Delius officer code of the responsible officer","required":true,"type":"string","x-example":"SH0001"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/ManagedOffender"}}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"Not found","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/staff/username/{username}":{"get":{"tags":["Staff (Secure)"],"summary":"Return details of a staff member including user details","description":"Accepts a Delius staff username","operationId":"getStaffDetailsForUsernameUsingGET","produces":["application/json"],"parameters":[{"name":"username","in":"path","description":"Delius username","required":true,"type":"string","x-example":"SheliaHancockNPS"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/StaffDetails"}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"Not found","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/users/list/detail":{"post":{"tags":["User API"],"summary":"Returns a list of user details for supplied usernames - POST version to allow large user lists.","description":"user details for supplied usernames","operationId":"getUserDetailsList","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"usernames","description":"usernames","required":true,"schema":{"type":"array","items":{"type":"string"}}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/UserDetailsWrapper"}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"Not found","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/users/search/email/{email}/details":{"get":{"tags":["Authentication"],"summary":"Find user details of a user held in Delius Identity (LDAP)","operationId":"findUserByEmailUsingGET","produces":["application/json"],"parameters":[{"name":"email","in":"path","description":"LDAP email address","required":true,"type":"string","x-example":"sheila.hancock@justice.gov.uk"}],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/UserDetails"}}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/users/{username}/areas":{"get":{"tags":["User API"],"summary":"Returns a list of areas a user is related to including their home area","operationId":"getUserAreas","produces":["application/json"],"parameters":[{"name":"username","in":"path","description":"username","required":true,"type":"string","x-example":"johnsmithnps"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/UserAreas"}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"403":{"description":"Forbidden","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"User with username not found","schema":{"$ref":"#/definitions/ErrorResponse"}},"500":{"description":"Unrecoverable error whilst processing request.","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/users/{username}/details":{"get":{"tags":["Authentication"],"summary":"Find user details of a user held in Delius Identity (LDAP)","operationId":"findUserUsingGET","produces":["application/json"],"parameters":[{"name":"username","in":"path","description":"LDAP username","required":true,"type":"string","x-example":"TESTUSERNPS"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/UserDetails"}},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/users/{username}/password":{"post":{"tags":["Authentication"],"summary":"Change password a users (LDAP) account","operationId":"changePasswordUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"authPassword","description":"Password Credentials","required":true,"schema":{"$ref":"#/definitions/AuthPassword"}},{"name":"username","in":"path","description":"LDAP username","required":true,"type":"string","x-example":"TESTUSERNPS"}],"responses":{"200":{"description":"Password Changed"},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}},"/secure/users/{username}/roles/{roleId}":{"put":{"tags":["Authentication"],"summary":"Add a role to a user held in Delius Identity (LDAP)","operationId":"addRoleUsingPUT","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"roleId","in":"path","description":"Delius Role ID","required":true,"type":"string","x-example":"CWBT001"},{"name":"username","in":"path","description":"LDAP username","required":true,"type":"string","x-example":"TESTUSERNPS"}],"responses":{"200":{"description":"OK"},"400":{"description":"Invalid request","schema":{"$ref":"#/definitions/ErrorResponse"}},"401":{"description":"Unauthorised","schema":{"$ref":"#/definitions/ErrorResponse"}},"404":{"description":"Not Found","schema":{"$ref":"#/definitions/ErrorResponse"}}},"deprecated":false}}},"definitions":{"AccessLimitation":{"type":"object","required":["userExcluded","userRestricted"],"properties":{"exclusionMessage":{"type":"string"},"restrictionMessage":{"type":"string"},"userExcluded":{"type":"boolean"},"userRestricted":{"type":"boolean"}},"title":"AccessLimitation"},"AdditionalIdentifier":{"type":"object","properties":{"additionalIdentifierId":{"type":"integer","format":"int64","example":23456789,"description":"unique id of identifier"},"type":{"description":"identifier name and description","$ref":"#/definitions/KeyValue"},"value":{"type":"string","example":"X1234","description":"value of identifier"}},"title":"AdditionalIdentifier","description":"Additional Identifier. \nCurrent active values for the type are\n LIFN\tLifer Number\nOTHR\tOther Personal Identifier\nSPNC\tScottish/Old PNC Number\nNPNC\tVerified No PNC Date\nVISO\tViSOR Number\nPCRN\tOther Previous CRN\nIMMN\tImmigration Number\nYCRN\tYOT Identifier/CRN\nAPNC\tAdditional PNC\nURN\tCPS Unique Reference Number\nAI02\tPrevious Prison Number\nDOFF\tDuplicate Offender CRN\nNINO\tNational Insurance Number\nDNOMS\tDuplicate NOMIS Number\nFull list can be found calling \"/secure/referenceData/set/ADDITIONAL IDENTIFIER TYPE\""},"Address":{"type":"object","required":["from"],"properties":{"addressNumber":{"type":"string"},"buildingName":{"type":"string"},"county":{"type":"string"},"district":{"type":"string"},"from":{"type":"string","format":"date"},"noFixedAbode":{"type":"boolean"},"notes":{"type":"string"},"postcode":{"type":"string"},"status":{"$ref":"#/definitions/KeyValue"},"streetName":{"type":"string"},"telephoneNumber":{"type":"string"},"to":{"type":"string","format":"date"},"town":{"type":"string"}},"title":"Address"},"AllTeam":{"type":"object","required":["providerTeamId","teamId"],"properties":{"borough":{"$ref":"#/definitions/KeyValue"},"code":{"type":"string"},"description":{"type":"string"},"district":{"$ref":"#/definitions/KeyValue"},"externalProvider":{"$ref":"#/definitions/KeyValue"},"isPrivate":{"type":"boolean"},"localDeliveryUnit":{"$ref":"#/definitions/KeyValue"},"name":{"type":"string"},"providerTeamId":{"type":"integer","format":"int64"},"scProvider":{"$ref":"#/definitions/KeyValue"},"teamId":{"type":"integer","format":"int64"}},"title":"AllTeam"},"Appointment":{"type":"object","required":["appointmentId","appointmentType"],"properties":{"alertActive":{"type":"boolean"},"appointmentDate":{"type":"string","format":"date"},"appointmentEndTime":{"$ref":"#/definitions/LocalTime"},"appointmentId":{"type":"integer","format":"int64"},"appointmentOutcomeType":{"$ref":"#/definitions/KeyValue"},"appointmentStartTime":{"$ref":"#/definitions/LocalTime"},"appointmentType":{"$ref":"#/definitions/KeyValue"},"attended":{"type":"string","enum":["ATTENDED","UNATTENDED","NOT_RECORDED"]},"complied":{"type":"boolean"},"createdDateTime":{"type":"string","format":"date-time"},"documentLinked":{"type":"boolean"},"eventId":{"type":"integer","format":"int64"},"explanation":{"$ref":"#/definitions/KeyValue"},"hoursCredited":{"type":"number","format":"double"},"lastUpdatedDateTime":{"type":"string","format":"date-time"},"licenceCondition":{"$ref":"#/definitions/LicenceCondition"},"linkedContactId":{"type":"integer","format":"int64"},"notes":{"type":"string"},"nsi":{"$ref":"#/definitions/Nsi"},"officeLocation":{"$ref":"#/definitions/KeyValue"},"probationArea":{"$ref":"#/definitions/KeyValue"},"providerEmployee":{"$ref":"#/definitions/Human"},"providerLocation":{"$ref":"#/definitions/KeyValue"},"providerTeam":{"$ref":"#/definitions/KeyValue"},"requirement":{"$ref":"#/definitions/Requirement"},"staff":{"$ref":"#/definitions/Human"},"team":{"$ref":"#/definitions/KeyValue"},"uploadLinked":{"type":"boolean"},"visorContact":{"type":"boolean"}},"title":"Appointment"},"Appointments":{"type":"object","properties":{"total":{"type":"integer","format":"int64","description":"Total number of appointments to date"},"attended":{"type":"integer","format":"int64","description":"Number of appointments recorded to date as attended"},"acceptableAbsences":{"type":"integer","format":"int64","description":"Number of appointments recorded to date as not attended and compliant - i.e. with an acceptable reason for absence"},"unacceptableAbsences":{"type":"integer","format":"int64","description":"Number of appointments recorded to date as not attended and uncompliant - i.e. without an acceptable reason for absence"},"noOutcomeRecorded":{"type":"integer","format":"int64","description":"Number of appointments to date where no attendance or compliance information has been recorded"}},"title":"Appointments"},"Attendance":{"type":"object","required":["attendanceDate","attended","complied","contactId"],"properties":{"attendanceDate":{"type":"string","format":"date"},"attended":{"type":"boolean"},"complied":{"type":"boolean"},"contactId":{"type":"integer","format":"int64"},"contactType":{"$ref":"#/definitions/ContactTypeDetail"},"outcome":{"type":"string"}},"title":"Attendance"},"Attendances":{"type":"object","properties":{"attendances":{"type":"array","description":"List of Attendances","items":{"$ref":"#/definitions/Attendance"}}},"title":"Attendances","description":"Attendance Wrapper"},"AuthPassword":{"type":"object","required":["password"],"properties":{"password":{"type":"string","example":"password123456","description":"LDAP password"}},"title":"AuthPassword","description":"Password Credentials"},"AuthUser":{"type":"object","required":["password","username"],"properties":{"username":{"type":"string","example":"TEST_USER_NPS","description":"LDAP username"},"password":{"type":"string","example":"password123456","description":"LDAP password"}},"title":"AuthUser","description":"Authentication Details"},"CommunityOrPrisonOffenderManager":{"type":"object","properties":{"fromDate":{"type":"string","format":"date","example":"2019-12-04","description":"Date since the offender manager was assigned"},"isPrisonOffenderManager":{"type":"boolean","example":true,"description":"True if this offender manager is the prison OM else False"},"isResponsibleOfficer":{"type":"boolean","example":true,"description":"True if this offender manager is the current responsible officer"},"isUnallocated":{"type":"boolean","example":true,"description":"True if no real offender manager has been allocated and this is just a placeholder"},"probationArea":{"description":"Probation area / prison institution for this OM","$ref":"#/definitions/ProbationArea"},"staff":{"description":"staff name details","$ref":"#/definitions/Human"},"staffCode":{"type":"string","example":"CHSE755","description":"Staff code"},"team":{"description":"Team details for this offender manager","$ref":"#/definitions/Team"}},"title":"CommunityOrPrisonOffenderManager"},"Contact":{"type":"object","required":["contactId","contactType"],"properties":{"alertActive":{"type":"boolean"},"attended":{"type":"boolean"},"complied":{"type":"boolean"},"contactEndTime":{"$ref":"#/definitions/LocalTime"},"contactId":{"type":"integer","format":"int64"},"contactOutcomeType":{"$ref":"#/definitions/KeyValue"},"contactStartTime":{"$ref":"#/definitions/LocalTime"},"contactType":{"$ref":"#/definitions/ContactType"},"createdDateTime":{"type":"string","format":"date-time"},"documentLinked":{"type":"boolean"},"eventId":{"type":"integer","format":"int64"},"explanation":{"$ref":"#/definitions/KeyValue"},"hoursCredited":{"type":"number","format":"double"},"lastUpdatedDateTime":{"type":"string","format":"date-time"},"licenceCondition":{"$ref":"#/definitions/LicenceCondition"},"linkedContactId":{"type":"integer","format":"int64"},"notes":{"type":"string"},"nsi":{"$ref":"#/definitions/Nsi"},"partitionArea":{"type":"string"},"probationArea":{"$ref":"#/definitions/KeyValue"},"providerEmployee":{"$ref":"#/definitions/Human"},"providerLocation":{"$ref":"#/definitions/KeyValue"},"providerTeam":{"$ref":"#/definitions/KeyValue"},"requirement":{"$ref":"#/definitions/Requirement"},"softDeleted":{"type":"boolean"},"staff":{"$ref":"#/definitions/Human"},"team":{"$ref":"#/definitions/KeyValue"},"uploadLinked":{"type":"boolean"},"visorContact":{"type":"boolean"}},"title":"Contact"},"ContactDetails":{"type":"object","properties":{"addresses":{"type":"array","items":{"$ref":"#/definitions/Address"}},"allowSMS":{"type":"boolean"},"emailAddresses":{"type":"array","items":{"type":"string"}},"phoneNumbers":{"type":"array","items":{"$ref":"#/definitions/PhoneNumber"}}},"title":"ContactDetails"},"ContactDetailsSummary":{"type":"object","properties":{"allowSMS":{"type":"boolean"},"emailAddresses":{"type":"array","items":{"type":"string"}},"phoneNumbers":{"type":"array","items":{"$ref":"#/definitions/PhoneNumber"}}},"title":"ContactDetailsSummary"},"ContactType":{"type":"object","required":["code","description"],"properties":{"code":{"type":"string"},"description":{"type":"string"},"shortDescription":{"type":"string"}},"title":"ContactType"},"ContactTypeDetail":{"type":"object","required":["code","description"],"properties":{"code":{"type":"string"},"description":{"type":"string"}},"title":"ContactTypeDetail"},"Conviction":{"type":"object","properties":{"active":{"type":"boolean"},"convictionDate":{"type":"string","format":"date"},"convictionId":{"type":"integer","format":"int64"},"custody":{"$ref":"#/definitions/Custody"},"inBreach":{"type":"boolean"},"index":{"type":"string"},"latestCourtAppearanceOutcome":{"$ref":"#/definitions/KeyValue"},"offences":{"type":"array","items":{"$ref":"#/definitions/Offence"}},"referralDate":{"type":"string","format":"date"},"sentence":{"$ref":"#/definitions/Sentence"}},"title":"Conviction"},"ConvictionDocuments":{"type":"object","properties":{"convictionId":{"type":"string"},"documents":{"type":"array","items":{"$ref":"#/definitions/OffenderDocumentDetail"}}},"title":"ConvictionDocuments"},"ConvictionRequirements":{"type":"object","properties":{"requirements":{"type":"array","description":"List of requirements associated with this conviction","items":{"$ref":"#/definitions/Requirement"}}},"title":"ConvictionRequirements"},"Count":{"type":"object","properties":{"value":{"type":"integer","format":"int64"}},"title":"Count"},"Court":{"type":"object","properties":{"buildingName":{"type":"string"},"code":{"type":"string"},"country":{"type":"string"},"county":{"type":"string"},"courtId":{"type":"integer","format":"int64"},"courtName":{"type":"string"},"courtTypeId":{"type":"integer","format":"int64"},"createdDatetime":{"type":"string","format":"date-time"},"fax":{"type":"string"},"lastUpdatedDatetime":{"type":"string","format":"date-time"},"locality":{"type":"string"},"postcode":{"type":"string"},"probationAreaId":{"type":"integer","format":"int64"},"secureEmailAddress":{"type":"string"},"selectable":{"type":"boolean"},"street":{"type":"string"},"telephoneNumber":{"type":"string"},"town":{"type":"string"}},"title":"Court"},"CourtAppearance":{"type":"object","properties":{"appearanceDate":{"type":"string","format":"date-time"},"appearanceTypeId":{"type":"integer","format":"int64"},"bailConditions":{"type":"string"},"court":{"$ref":"#/definitions/Court"},"courtAppearanceId":{"type":"integer","format":"int64"},"courtNotes":{"type":"string"},"courtReports":{"type":"array","items":{"$ref":"#/definitions/CourtReport"}},"createdDatetime":{"type":"string","format":"date-time"},"crownCourtCalendarNumber":{"type":"string"},"eventId":{"type":"integer","format":"int64"},"lastUpdatedDatetime":{"type":"string","format":"date-time"},"offenceIds":{"type":"array","items":{"type":"string"}},"offenderId":{"type":"integer","format":"int64"},"outcome":{"$ref":"#/definitions/KeyValue"},"pleaId":{"type":"integer","format":"int64"},"remandStatusId":{"type":"integer","format":"int64"},"staffId":{"type":"integer","format":"int64"},"teamId":{"type":"integer","format":"int64"}},"title":"CourtAppearance"},"CourtReport":{"type":"object","properties":{"allocationDate":{"type":"string","format":"date-time"},"completedDate":{"type":"string","format":"date-time"},"courtReportId":{"type":"integer","format":"int64"},"courtReportTypeId":{"type":"integer","format":"int64"},"createdDatetime":{"type":"string","format":"date-time"},"dateRequested":{"type":"string","format":"date-time"},"dateRequired":{"type":"string","format":"date-time"},"deliveredCourtReportTypeId":{"type":"integer","format":"int64"},"deliveredReportReasonId":{"type":"integer","format":"int64"},"lastUpdatedDatetime":{"type":"string","format":"date-time"},"levelOfSeriousnessId":{"type":"integer","format":"int64"},"notes":{"type":"string"},"offenderId":{"type":"integer","format":"int64"},"pendingTransfer":{"type":"boolean"},"publicProtection":{"type":"boolean"},"punishment":{"type":"boolean"},"receivedByCourtDate":{"type":"string","format":"date-time"},"recommendationsNotStated":{"type":"boolean"},"reductionOfCrime":{"type":"boolean"},"reformAndRehabilitation":{"type":"boolean"},"reparation":{"type":"boolean"},"requiredByCourt":{"$ref":"#/definitions/Court"},"section178":{"type":"boolean"},"sentToCourtDate":{"type":"string","format":"date-time"},"videoLink":{"type":"string"}},"title":"CourtReport"},"CreateCustodyKeyDate":{"type":"object","properties":{"date":{"type":"string","format":"date"}},"title":"CreateCustodyKeyDate"},"CreatePrisonOffenderManager":{"type":"object","required":["nomsPrisonInstitutionCode"],"properties":{"nomsPrisonInstitutionCode":{"type":"string","example":"MDI","description":"Prison institution code in NOMIS"},"officer":{"example":"officer: {\"forenames\": \"John\", \"surname\": \"Smith\" }","description":"Name of offender manager. If passed then must contain both forename(s) and surname","$ref":"#/definitions/Human"},"officerCode":{"type":"string","example":"N07A001","description":"Officer staff code. If not present officer will be used to lookup staff member"}},"title":"CreatePrisonOffenderManager","description":"Request body for assigning an offender manager to an offender. Must pass exactly one of officer / officerCode (not both)"},"Custody":{"type":"object","properties":{"bookingNumber":{"type":"string","example":"V74111","description":"Human readable id of the prison booking, AKA book number"},"institution":{"description":"Institution where the offender currently resides","$ref":"#/definitions/Institution"},"keyDates":{"description":"Key sentence dates of particular interest to custody","$ref":"#/definitions/CustodyRelatedKeyDates"}},"title":"Custody"},"CustodyKeyDate":{"type":"object","properties":{"date":{"type":"string","format":"date"},"type":{"$ref":"#/definitions/KeyValue"}},"title":"CustodyKeyDate"},"CustodyRelatedKeyDates":{"type":"object","properties":{"conditionalReleaseDate":{"type":"string","format":"date","example":"2020-06-23","description":"Conditional release date"},"expectedPrisonOffenderManagerHandoverDate":{"type":"string","format":"date","example":"2020-06-23","description":"Expected actual handover date from prison offender manager to community offender manager"},"expectedPrisonOffenderManagerHandoverStartDate":{"type":"string","format":"date","example":"2020-06-23","description":"Expected start date of the handover process from prison offender manager to community offender manager"},"expectedReleaseDate":{"type":"string","format":"date","example":"2020-06-23","description":"Expected release date"},"hdcEligibilityDate":{"type":"string","format":"date","example":"2020-06-23","description":"Home detention curfew eligibility date"},"licenceExpiryDate":{"type":"string","format":"date","example":"2020-06-23","description":"Licence expiry date"},"paroleEligibilityDate":{"type":"string","format":"date","example":"2020-06-23","description":"Parole eligibility date"},"postSentenceSupervisionEndDate":{"type":"string","format":"date","example":"2020-06-23","description":"Post sentence Supervision end date. AKA Top-up supervision end date"},"sentenceExpiryDate":{"type":"string","format":"date","example":"2020-06-23","description":"Sentence expiry date"}},"title":"CustodyRelatedKeyDates","description":"Key sentence dates that are related to their time in custody"},"Disability":{"type":"object","properties":{"disabilityId":{"type":"integer","format":"int64"},"disabilityType":{"$ref":"#/definitions/KeyValue"},"endDate":{"type":"string","format":"date"},"notes":{"type":"string"},"startDate":{"type":"string","format":"date"}},"title":"Disability"},"DocumentLink":{"type":"object","properties":{"alfrescoId":{"type":"string"},"alfrescoUser":{"type":"string"},"crn":{"type":"string"},"documentName":{"type":"string"},"entityId":{"type":"integer","format":"int64"},"probationAreaCode":{"type":"string"},"tableName":{"type":"string"}},"title":"DocumentLink"},"DocumentMeta":{"type":"object","properties":{"author":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"docType":{"type":"string"},"documentName":{"type":"string"},"entityType":{"type":"string"},"id":{"type":"string"},"lastModifiedAt":{"type":"string","format":"date-time"},"userData":{"$ref":"#/definitions/ObjectNode"}},"title":"DocumentMeta"},"ErrorResponse":{"type":"object","required":["errorCode","status","userMessage"],"properties":{"status":{"type":"integer","format":"int32","example":400,"description":"Status of Error Code"},"errorCode":{"type":"integer","format":"int32","example":20012,"description":"Internal Error Code"},"userMessage":{"type":"string","example":"Offender Not Found","description":"Error message information"},"developerMessage":{"type":"string","example":"System is down","description":"Developer Information message"},"moreInfo":{"type":"string","example":"Hard disk failure","description":"Additional information about the error"}},"title":"ErrorResponse"},"File":{"type":"object","properties":{"absolute":{"type":"boolean"},"absoluteFile":{"$ref":"#/definitions/File"},"absolutePath":{"type":"string"},"canonicalFile":{"$ref":"#/definitions/File"},"canonicalPath":{"type":"string"},"directory":{"type":"boolean"},"file":{"type":"boolean"},"freeSpace":{"type":"integer","format":"int64"},"hidden":{"type":"boolean"},"name":{"type":"string"},"parent":{"type":"string"},"parentFile":{"$ref":"#/definitions/File"},"path":{"type":"string"},"totalSpace":{"type":"integer","format":"int64"},"usableSpace":{"type":"integer","format":"int64"}},"title":"File"},"Human":{"type":"object","properties":{"forenames":{"type":"string","example":"Sheila Linda","description":"Given names"},"surname":{"type":"string","example":"Hancock","description":"Family name"}},"title":"Human"},"IDs":{"type":"object","required":["crn"],"properties":{"crn":{"type":"string","example":"12345C","description":"case reference number"},"croNumber":{"type":"string","example":"123456/04A","description":"Number from the crime records office"},"immigrationNumber":{"type":"string","example":"A1234567","description":"Immigration number"},"mostRecentPrisonerNumber":{"type":"string","example":"G12345","description":"Book number of latest booking from NOMIS"},"niNumber":{"type":"string","example":"AA112233B","description":"National insurance number from HMRC"},"nomsNumber":{"type":"string","example":"A1234CR","description":"Offender number from NOMIS"},"pncNumber":{"type":"string","example":"2004/0712343H","description":"Number from the police national computer"}},"title":"IDs"},"InputStream":{"type":"object","title":"InputStream"},"Institution":{"type":"object","required":["institutionId"],"properties":{"code":{"type":"string"},"description":{"type":"string"},"establishmentType":{"$ref":"#/definitions/KeyValue"},"institutionId":{"type":"integer","format":"int64"},"institutionName":{"type":"string"},"isEstablishment":{"type":"boolean"},"isPrivate":{"type":"boolean"},"nomsPrisonInstitutionCode":{"type":"string","description":"Prison institution code in NOMIS"}},"title":"Institution"},"InstitutionalReport":{"type":"object","properties":{"conviction":{"$ref":"#/definitions/Conviction"},"institutionalReportId":{"type":"integer","format":"int64"},"offenderId":{"type":"integer","format":"int64"},"sentence":{"description":"Deprecated - Use conviction to access sentence","$ref":"#/definitions/Sentence"}},"title":"InstitutionalReport"},"KeyValue":{"type":"object","properties":{"code":{"type":"string"},"description":{"type":"string"}},"title":"KeyValue"},"LicenceCondition":{"type":"object","properties":{"active":{"type":"boolean"},"commencementDate":{"type":"string","format":"date"},"commencementNotes":{"type":"string"},"createdDateTime":{"type":"string","format":"date-time"},"licenceConditionNotes":{"type":"string"},"licenceConditionTypeMainCat":{"$ref":"#/definitions/KeyValue"},"startDate":{"type":"string","format":"date"},"terminationDate":{"type":"string","format":"date"},"terminationNotes":{"type":"string"}},"title":"LicenceCondition"},"LocalTime":{"type":"object","properties":{"hour":{"type":"integer","format":"int32"},"minute":{"type":"integer","format":"int32"},"nano":{"type":"integer","format":"int32"},"second":{"type":"integer","format":"int32"}},"title":"LocalTime"},"ManagedOffender":{"type":"object","required":["crnNumber","nomsNumber","offenderId","offenderSurname","omEndDate","omStartDate","staffCode"],"properties":{"crnNumber":{"type":"string"},"currentOm":{"type":"boolean"},"currentPom":{"type":"boolean"},"currentRo":{"type":"boolean"},"nomsNumber":{"type":"string"},"offenderId":{"type":"integer","format":"int64"},"offenderSurname":{"type":"string"},"omEndDate":{"type":"string","format":"date"},"omStartDate":{"type":"string","format":"date"},"staffCode":{"type":"string"}},"title":"ManagedOffender"},"Nsi":{"type":"object","properties":{"actualStartDate":{"type":"string","format":"date"},"expectedStartDate":{"type":"string","format":"date"},"length":{"type":"integer","format":"int64"},"lengthUnit":{"type":"string"},"nsiId":{"type":"integer","format":"int64"},"nsiManagers":{"type":"array","items":{"$ref":"#/definitions/NsiManager"}},"nsiStatus":{"$ref":"#/definitions/KeyValue"},"nsiSubType":{"$ref":"#/definitions/KeyValue"},"nsiType":{"$ref":"#/definitions/KeyValue"},"referralDate":{"type":"string","format":"date"},"requirement":{"$ref":"#/definitions/Requirement"}},"title":"Nsi"},"NsiManager":{"type":"object","properties":{"endDate":{"type":"string","format":"date"},"probationArea":{"$ref":"#/definitions/ProbationArea"},"staff":{"$ref":"#/definitions/StaffDetails"},"startDate":{"type":"string","format":"date"},"team":{"$ref":"#/definitions/Team"}},"title":"NsiManager"},"NsiWrapper":{"type":"object","properties":{"nsis":{"type":"array","description":"List of NSIs","items":{"$ref":"#/definitions/Nsi"}}},"title":"NsiWrapper","description":"NSI Wrapper"},"ObjectNode":{"type":"object","title":"ObjectNode"},"Offence":{"type":"object","properties":{"createdDatetime":{"type":"string","format":"date-time"},"detail":{"$ref":"#/definitions/OffenceDetail"},"lastUpdatedDatetime":{"type":"string","format":"date-time"},"mainOffence":{"type":"boolean"},"offenceCount":{"type":"integer","format":"int64"},"offenceDate":{"type":"string","format":"date-time"},"offenceId":{"type":"string"},"offenderId":{"type":"integer","format":"int64"},"tics":{"type":"integer","format":"int64"},"verdict":{"type":"string"}},"title":"Offence"},"OffenceDetail":{"type":"object","properties":{"abbreviation":{"type":"string"},"cjitCode":{"type":"string"},"code":{"type":"string"},"description":{"type":"string"},"form20Code":{"type":"string"},"mainCategoryAbbreviation":{"type":"string"},"mainCategoryCode":{"type":"string"},"mainCategoryDescription":{"type":"string"},"ogrsOffenceCategory":{"type":"string"},"subCategoryAbbreviation":{"type":"string"},"subCategoryCode":{"type":"string"},"subCategoryDescription":{"type":"string"}},"title":"OffenceDetail"},"OffenderAlias":{"type":"object","properties":{"dateOfBirth":{"type":"string","format":"date"},"firstName":{"type":"string"},"gender":{"type":"string"},"id":{"type":"string"},"middleNames":{"type":"array","items":{"type":"string"}},"surname":{"type":"string"}},"title":"OffenderAlias"},"OffenderDelta":{"type":"object","properties":{"offenderId":{"type":"integer","format":"int64","example":232423,"description":"Offender ID"},"dateChanged":{"type":"string","format":"date-time","example":"2019-11-27T15:12:43.000Z","description":"The datetime the change occurred"},"action":{"type":"string","example":"UPSERT","description":"Type of delta","enum":["UPSERT","DELETE"]}},"title":"OffenderDelta"},"OffenderDetail":{"type":"object","required":["offenderId"],"properties":{"contactDetails":{"$ref":"#/definitions/ContactDetails"},"currentDisposal":{"type":"string"},"currentExclusion":{"type":"boolean"},"currentRestriction":{"type":"boolean"},"dateOfBirth":{"type":"string","format":"date"},"exclusionMessage":{"type":"string"},"firstName":{"type":"string"},"gender":{"type":"string"},"middleNames":{"type":"array","items":{"type":"string"}},"offenderAliases":{"type":"array","items":{"$ref":"#/definitions/OffenderAlias"}},"offenderId":{"type":"integer","format":"int64"},"offenderManagers":{"type":"array","items":{"$ref":"#/definitions/OffenderManager"}},"offenderProfile":{"$ref":"#/definitions/OffenderProfile"},"otherIds":{"$ref":"#/definitions/IDs"},"partitionArea":{"type":"string"},"previousSurname":{"type":"string"},"restrictionMessage":{"type":"string"},"softDeleted":{"type":"boolean"},"surname":{"type":"string"},"title":{"type":"string"}},"title":"OffenderDetail"},"OffenderDetailSummary":{"type":"object","required":["offenderId"],"properties":{"contactDetails":{"$ref":"#/definitions/ContactDetailsSummary"},"currentDisposal":{"type":"string"},"currentExclusion":{"type":"boolean"},"currentRestriction":{"type":"boolean"},"dateOfBirth":{"type":"string","format":"date"},"firstName":{"type":"string"},"gender":{"type":"string"},"middleNames":{"type":"array","items":{"type":"string"}},"offenderId":{"type":"integer","format":"int64"},"offenderProfile":{"$ref":"#/definitions/OffenderProfile"},"otherIds":{"$ref":"#/definitions/IDs"},"partitionArea":{"type":"string"},"previousSurname":{"type":"string"},"softDeleted":{"type":"boolean"},"surname":{"type":"string"},"title":{"type":"string"}},"title":"OffenderDetailSummary"},"OffenderDocumentDetail":{"type":"object","properties":{"author":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"documentName":{"type":"string"},"extendedDescription":{"type":"string"},"id":{"type":"string"},"lastModifiedAt":{"type":"string","format":"date-time"},"parentPrimaryKeyId":{"type":"integer","format":"int64"},"reportDocumentDates":{"$ref":"#/definitions/ReportDocumentDates"},"subType":{"$ref":"#/definitions/KeyValue"},"type":{"$ref":"#/definitions/KeyValue"}},"title":"OffenderDocumentDetail"},"OffenderDocuments":{"type":"object","properties":{"convictions":{"type":"array","items":{"$ref":"#/definitions/ConvictionDocuments"}},"documents":{"type":"array","items":{"$ref":"#/definitions/OffenderDocumentDetail"}}},"title":"OffenderDocuments"},"OffenderIdentifiers":{"type":"object","properties":{"additionalIdentifiers":{"type":"array","description":"Additional identifiers","items":{"$ref":"#/definitions/AdditionalIdentifier"}},"offenderId":{"type":"integer","format":"int64","example":1234567,"description":"unique identifier for this offender"},"primaryIdentifiers":{"description":"Primary identifiers","$ref":"#/definitions/IDs"}},"title":"OffenderIdentifiers","description":"Offender Identifiers"},"OffenderIdsResource":{"type":"object","properties":{"offenderIds":{"type":"array","items":{"type":"number"}}},"title":"OffenderIdsResource"},"OffenderLanguages":{"type":"object","properties":{"languageConcerns":{"type":"string"},"otherLanguages":{"type":"array","items":{"type":"string"}},"primaryLanguage":{"type":"string"},"requiresInterpreter":{"type":"boolean"}},"title":"OffenderLanguages"},"OffenderLatestRecall":{"type":"object","properties":{"lastRecall":{"description":"Last recall","$ref":"#/definitions/OffenderRecall"},"lastRelease":{"description":"Last release","$ref":"#/definitions/OffenderRelease"}},"title":"OffenderLatestRecall"},"OffenderManager":{"type":"object","properties":{"active":{"type":"boolean"},"allocationReason":{"$ref":"#/definitions/KeyValue"},"fromDate":{"type":"string","format":"date"},"partitionArea":{"type":"string"},"probationArea":{"$ref":"#/definitions/ProbationArea"},"providerEmployee":{"$ref":"#/definitions/Human"},"softDeleted":{"type":"boolean"},"staff":{"$ref":"#/definitions/Human"},"team":{"$ref":"#/definitions/Team"},"toDate":{"type":"string","format":"date"},"trustOfficer":{"$ref":"#/definitions/Human"}},"title":"OffenderManager"},"OffenderProfile":{"type":"object","properties":{"disabilities":{"type":"array","items":{"$ref":"#/definitions/Disability"}},"ethnicity":{"type":"string"},"immigrationStatus":{"type":"string"},"nationality":{"type":"string"},"notes":{"type":"string"},"offenderDetails":{"type":"string"},"offenderLanguages":{"$ref":"#/definitions/OffenderLanguages"},"previousConviction":{"$ref":"#/definitions/PreviousConviction"},"religion":{"type":"string"},"remandStatus":{"type":"string"},"riskColour":{"type":"string"},"secondaryNationality":{"type":"string"},"sexualOrientation":{"type":"string"}},"title":"OffenderProfile"},"OffenderRecall":{"type":"object","properties":{"date":{"type":"string","format":"date","example":"2019-11-27","description":"The date the recall occurred"},"notes":{"type":"string","description":"Some notes"},"reason":{"description":"The reason for the recall","$ref":"#/definitions/KeyValue"}},"title":"OffenderRecall"},"OffenderRelease":{"type":"object","properties":{"date":{"type":"string","format":"date","example":"2019-11-26","description":"The date the release occurred"},"institution":{"description":"The institution the offender was released from","$ref":"#/definitions/Institution"},"notes":{"type":"string","description":"Some notes"},"reason":{"description":"The reason for the release","$ref":"#/definitions/KeyValue"}},"title":"OffenderRelease"},"PageOfKeyValue":{"type":"object","properties":{"content":{"type":"array","items":{"$ref":"#/definitions/KeyValue"}},"empty":{"type":"boolean"},"first":{"type":"boolean"},"last":{"type":"boolean"},"number":{"type":"integer","format":"int32"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/definitions/Pageable"},"size":{"type":"integer","format":"int32"},"sort":{"$ref":"#/definitions/Sort"},"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"}},"title":"PageOfKeyValue"},"PageOfPrimaryIdentifiers":{"type":"object","properties":{"content":{"type":"array","items":{"$ref":"#/definitions/PrimaryIdentifiers"}},"empty":{"type":"boolean"},"first":{"type":"boolean"},"last":{"type":"boolean"},"number":{"type":"integer","format":"int32"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/definitions/Pageable"},"size":{"type":"integer","format":"int32"},"sort":{"$ref":"#/definitions/Sort"},"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"}},"title":"PageOfPrimaryIdentifiers"},"Pageable":{"type":"object","properties":{"offset":{"type":"integer","format":"int64"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"paged":{"type":"boolean"},"sort":{"$ref":"#/definitions/Sort"},"unpaged":{"type":"boolean"}},"title":"Pageable"},"PersonalCircumstance":{"type":"object","properties":{"endDate":{"type":"string","format":"date","example":"2019-09-11","description":"When the offender ended this circumstance"},"evidenced":{"type":"boolean","example":true,"description":"true if evidence was supplied for this circumstance"},"notes":{"type":"string","description":"Additional notes"},"offenderId":{"type":"integer","format":"int64","example":2500343964,"description":"Unique id of this offender"},"personalCircumstanceId":{"type":"integer","format":"int64","example":2500064995,"description":"Unique id of this personal circumstance"},"personalCircumstanceSubType":{"description":"The type of sub personal circumstance","$ref":"#/definitions/KeyValue"},"personalCircumstanceType":{"description":"The type of personal circumstance","$ref":"#/definitions/KeyValue"},"probationArea":{"description":"The probation area that added this circumstance","$ref":"#/definitions/KeyValue"},"startDate":{"type":"string","format":"date","example":"2019-09-11","description":"When the offender started this circumstance"}},"title":"PersonalCircumstance"},"PersonalCircumstances":{"type":"object","properties":{"personalCircumstances":{"type":"array","description":"List of personal circumstances","items":{"$ref":"#/definitions/PersonalCircumstance"}}},"title":"PersonalCircumstances","description":"Personal circumstances Wrapper"},"PhoneNumber":{"type":"object","properties":{"number":{"type":"string"},"type":{"type":"string","enum":["TELEPHONE","MOBILE"]}},"title":"PhoneNumber"},"PreviousConviction":{"type":"object","properties":{"convictionDate":{"type":"string","format":"date"},"detail":{"type":"object","additionalProperties":{"type":"string"}}},"title":"PreviousConviction"},"PrimaryIdentifiers":{"type":"object","required":["crn"],"properties":{"crn":{"type":"string","example":"12345C","description":"case reference number"},"offenderId":{"type":"integer","format":"int64","example":1234567,"description":"unique identifier for this offender"}},"title":"PrimaryIdentifiers","description":"Offender primary identifiers"},"ProbationArea":{"type":"object","required":["probationAreaId"],"properties":{"code":{"type":"string","example":"N01","description":"area code"},"description":{"type":"string","example":"NPS North West","description":"description"},"institution":{"$ref":"#/definitions/Institution"},"nps":{"type":"boolean","example":true,"description":"True if NPS else CRC"},"organisation":{"$ref":"#/definitions/KeyValue"},"probationAreaId":{"type":"integer","format":"int64"},"teams":{"type":"array","items":{"$ref":"#/definitions/AllTeam"}}},"title":"ProbationArea"},"ReferenceData":{"type":"object","properties":{"active":{"type":"boolean","description":"true if this item is currently selectable in Delius"},"code":{"type":"string","example":"VISO","description":"code of reference data"},"description":{"type":"string","example":"ViSOR Number","description":"description of reference data"}},"title":"ReferenceData"},"ReferenceDataList":{"type":"object","properties":{"referenceData":{"type":"array","description":"List of reference data items","items":{"$ref":"#/definitions/ReferenceData"}}},"title":"ReferenceDataList","description":"Reference data list"},"ReferenceDataSets":{"type":"object","properties":{"referenceDataSets":{"type":"array","description":"List of reference data sets, for example \n{\n            \"code\": \"ADDITIONAL SENTENCE\",\n            \"description\": \"Additional Sentence\"\n        }","items":{"$ref":"#/definitions/KeyValue"}}},"title":"ReferenceDataSets","description":"Reference data sets"},"Registration":{"type":"object","properties":{"active":{"type":"boolean","description":"true if active"},"deregisteringNotes":{"type":"string","description":"Additional notes about the de-registration"},"deregisteringOfficer":{"description":"Probation officer who removed the offender from the register","$ref":"#/definitions/Human"},"deregisteringProbationArea":{"description":"Probation area that removed the offender from the register","$ref":"#/definitions/KeyValue"},"deregisteringTeam":{"description":"Probation team that removed the offender from the register","$ref":"#/definitions/KeyValue"},"endDate":{"type":"string","format":"date","example":"2021-01-30","description":"Date removed from register"},"nextReviewDate":{"type":"string","format":"date","example":"2021-01-30","description":"Date probation should review if the offender should still be on still register"},"notes":{"type":"string","description":"Additional notes"},"offenderId":{"type":"integer","format":"int64","example":2500343964,"description":"Unique id of this offender"},"register":{"description":"Register this offender has been added to. For example RoSH","$ref":"#/definitions/KeyValue"},"registerCategory":{"description":"Category of register. Only used for certain registers for example Hate Crime category","$ref":"#/definitions/KeyValue"},"registerLevel":{"description":"Level of register. Only used for certain registers for example Lifer - Supervised","$ref":"#/definitions/KeyValue"},"registeringOfficer":{"description":"Probation officer who added the offender to the register","$ref":"#/definitions/Human"},"registeringProbationArea":{"description":"Probation area that added the offender to the register","$ref":"#/definitions/KeyValue"},"registeringTeam":{"description":"Probation team that added the offender to the register","$ref":"#/definitions/KeyValue"},"registrationId":{"type":"integer","format":"int64","example":2500064995,"description":"Unique id of this registration"},"reviewPeriodMonths":{"type":"integer","format":"int64","example":6,"description":"Number of months a review should take place"},"riskColour":{"type":"string","example":"Amber","description":"Literal visual colour this register represents"},"startDate":{"type":"string","format":"date","example":"2021-01-30","description":"Date added to register"},"type":{"description":"Type of register. For example Low RoSH","$ref":"#/definitions/KeyValue"},"warnUser":{"type":"boolean","description":"true if the register is serious enough to warn the probation officer of risk to themselves"}},"title":"Registration"},"Registrations":{"type":"object","properties":{"registrations":{"type":"array","description":"List of registrations","items":{"$ref":"#/definitions/Registration"}}},"title":"Registrations","description":"Registration Wrapper"},"ReplaceCustodyKeyDates":{"type":"object","properties":{"conditionalReleaseDate":{"type":"string","format":"date","example":"2020-06-23","description":"Conditional release date"},"expectedReleaseDate":{"type":"string","format":"date","example":"2020-06-23","description":"Expected release date"},"hdcEligibilityDate":{"type":"string","format":"date","example":"2020-06-23","description":"Home detention curfew eligibility date"},"licenceExpiryDate":{"type":"string","format":"date","example":"2020-06-23","description":"Licence expiry date"},"paroleEligibilityDate":{"type":"string","format":"date","example":"2020-06-23","description":"Parole eligibility date"},"postSentenceSupervisionEndDate":{"type":"string","format":"date","example":"2020-06-23","description":"Post sentence Supervision end date. AKA Top-up supervision end data"},"sentenceExpiryDate":{"type":"string","format":"date","example":"2020-06-23","description":"Sentence expiry date"}},"title":"ReplaceCustodyKeyDates","description":"Any dates not supplied will be removed from the associated conviction"},"ReportDocumentDates":{"type":"object","properties":{"completedDate":{"type":"string","format":"date-time"},"requestedDate":{"type":"string","format":"date"},"requiredDate":{"type":"string","format":"date"}},"title":"ReportDocumentDates"},"Requirement":{"type":"object","required":["requirementId"],"properties":{"active":{"type":"boolean","description":"Is the requirement currently active"},"adRequirementTypeMainCategory":{"$ref":"#/definitions/KeyValue"},"adRequirementTypeSubCategory":{"$ref":"#/definitions/KeyValue"},"commencementDate":{"type":"string","format":"date"},"expectedEndDate":{"type":"string","format":"date"},"expectedStartDate":{"type":"string","format":"date"},"length":{"type":"integer","format":"int64","description":"The number of temporal units to complete the requirement (see lengthUnit field for unit)"},"lengthUnit":{"type":"string","description":"The temporal unit corresponding to the length field"},"requirementId":{"type":"integer","format":"int64","description":"Unique identifier for the requirement"},"requirementNotes":{"type":"string","description":"Notes added by probation relating to the requirement"},"requirementTypeMainCategory":{"$ref":"#/definitions/KeyValue"},"requirementTypeSubCategory":{"$ref":"#/definitions/KeyValue"},"startDate":{"type":"string","format":"date"},"terminationDate":{"type":"string","format":"date"},"terminationReason":{"$ref":"#/definitions/KeyValue"}},"title":"Requirement"},"Resource":{"type":"object","properties":{"description":{"type":"string"},"file":{"$ref":"#/definitions/File"},"filename":{"type":"string"},"inputStream":{"$ref":"#/definitions/InputStream"},"open":{"type":"boolean"},"readable":{"type":"boolean"},"uri":{"$ref":"#/definitions/URI"},"url":{"$ref":"#/definitions/URL"}},"title":"Resource"},"ResponsibleOfficer":{"type":"object","required":["nomsNumber","omEndDate","omStartDate","staffCode","surname"],"properties":{"currentOm":{"type":"boolean"},"currentPom":{"type":"boolean"},"currentRo":{"type":"boolean"},"forenames":{"type":"string"},"lduCode":{"type":"string"},"lduDescription":{"type":"string"},"nomsNumber":{"type":"string"},"offenderManagerId":{"type":"integer","format":"int64"},"omEndDate":{"type":"string","format":"date"},"omStartDate":{"type":"string","format":"date"},"prisonOffenderManagerId":{"type":"integer","format":"int64"},"probationAreaCode":{"type":"string"},"probationAreaDescription":{"type":"string"},"providerTeamCode":{"type":"string"},"providerTeamDescription":{"type":"string"},"responsibleOfficerId":{"type":"integer","format":"int64"},"staffCode":{"type":"string"},"surname":{"type":"string"}},"title":"ResponsibleOfficer"},"Sentence":{"type":"object","properties":{"defaultLength":{"type":"integer","format":"int64"},"description":{"type":"string"},"effectiveLength":{"type":"integer","format":"int64"},"expectedSentenceEndDate":{"type":"string","format":"date","description":"The expected end date of the sentence"},"lengthInDays":{"type":"integer","format":"int64"},"originalLength":{"type":"integer","format":"int64"},"originalLengthUnits":{"type":"string"},"secondLength":{"type":"integer","format":"int64"},"secondLengthUnits":{"type":"string"},"sentenceId":{"type":"integer","format":"int64"},"startDate":{"type":"string","format":"date","description":"Date sentence started"},"terminationDate":{"type":"string","format":"date"},"terminationReason":{"type":"string"},"unpaidWork":{"description":"Unpaid Work to date associated with this sentence","$ref":"#/definitions/UnpaidWork"}},"title":"Sentence"},"Sort":{"type":"object","properties":{"empty":{"type":"boolean"},"sorted":{"type":"boolean"},"unsorted":{"type":"boolean"}},"title":"Sort"},"StaffDetails":{"type":"object","properties":{"email":{"type":"string","example":"sheila.hancock@test.justice.gov.uk","description":"the optional email address of this staff member, will be absent if the staff member is not a user of Delius"},"staff":{"description":"staff name details","$ref":"#/definitions/Human"},"staffCode":{"type":"string","example":"SH0001","description":"staff code AKA officer code"},"teams":{"type":"array","description":"all teams related to this staff member","items":{"$ref":"#/definitions/Team"}},"username":{"type":"string","example":"SheilaHancockNPS","description":"the optional username of this staff member, will be absent if the staff member is not a user of Delius"}},"title":"StaffDetails"},"Team":{"type":"object","properties":{"borough":{"description":"Team's borough","$ref":"#/definitions/KeyValue"},"code":{"type":"string","example":"C01T04","description":"Team code"},"description":{"type":"string","example":"OMU A","description":"Team description"},"district":{"description":"Team's district","$ref":"#/definitions/KeyValue"},"localDeliveryUnit":{"description":"Local Delivery Unit - provides a geographic grouping of teams","$ref":"#/definitions/KeyValue"},"teamType":{"description":"Team Type - provides a logical, not necessarily geographic, grouping of teams","$ref":"#/definitions/KeyValue"},"telephone":{"type":"string","example":"OMU A","description":"Team telephone, often not populated"}},"title":"Team"},"URI":{"type":"object","properties":{"absolute":{"type":"boolean"},"authority":{"type":"string"},"fragment":{"type":"string"},"host":{"type":"string"},"opaque":{"type":"boolean"},"path":{"type":"string"},"port":{"type":"integer","format":"int32"},"query":{"type":"string"},"rawAuthority":{"type":"string"},"rawFragment":{"type":"string"},"rawPath":{"type":"string"},"rawQuery":{"type":"string"},"rawSchemeSpecificPart":{"type":"string"},"rawUserInfo":{"type":"string"},"scheme":{"type":"string"},"schemeSpecificPart":{"type":"string"},"userInfo":{"type":"string"}},"title":"URI"},"URL":{"type":"object","properties":{"authority":{"type":"string"},"content":{"type":"object"},"defaultPort":{"type":"integer","format":"int32"},"file":{"type":"string"},"host":{"type":"string"},"path":{"type":"string"},"port":{"type":"integer","format":"int32"},"protocol":{"type":"string"},"query":{"type":"string"},"ref":{"type":"string"},"userInfo":{"type":"string"}},"title":"URL"},"UnpaidWork":{"type":"object","properties":{"appointments":{"description":"Details of appointment history to date","$ref":"#/definitions/Appointments"},"minutesCompleted":{"type":"integer","format":"int64","description":"Minutes of unpaid work credited to the service user to date"},"minutesOrdered":{"type":"integer","format":"int64","description":"Minutes of unpaid work ordered for this sentence"},"status":{"type":"string","description":"Status description"}},"title":"UnpaidWork"},"UpdateCustody":{"type":"object","properties":{"nomsPrisonInstitutionCode":{"type":"string","example":"MDI","description":"Prison institution code in NOMIS"}},"title":"UpdateCustody"},"UpdateCustodyBookingNumber":{"type":"object","properties":{"bookingNumber":{"type":"string","example":"38339A","description":"Prison Booking number to be set on the conviction. AKA bookNo, prison number "},"sentenceStartDate":{"type":"string","format":"date","example":"2020-02-28","description":"Sentence start date from prison used to match with probation conviction"}},"title":"UpdateCustodyBookingNumber"},"UpdateOffenderNomsNumber":{"type":"object","properties":{"nomsNumber":{"type":"string","example":"G5555TT","description":"NOMS number to be set on the offender. AKA offenderNo"}},"title":"UpdateOffenderNomsNumber"},"UserAreas":{"type":"object","properties":{"homeProbationArea":{"type":"string","example":"N02","description":"The home area for this user"},"probationAreas":{"type":"array","example":["N01", "N02"],"description":"All probation areas the user can access AKA dataset","items":{"type":"string"}}},"title":"UserAreas","description":"User's probation areas"},"UserDetails":{"type":"object","required":["enabled","firstName","surname","userId"],"properties":{"userId":{"type":"integer","format":"int64","example":12345,"description":"User ID of the user"},"firstName":{"type":"string","example":"John","description":"First name of the user"},"surname":{"type":"string","example":"Smith","description":"Surname of the user"},"email":{"type":"string","example":"test@digital.justice.gov.uk","description":"Email address of the user"},"enabled":{"type":"boolean","example":false,"description":"Account is enabled if true"},"roles":{"type":"array","description":"Roles For this User","items":{"$ref":"#/definitions/UserRole"}},"username":{"type":"string","example":"test.user","description":"The username of the user"}},"title":"UserDetails","description":"User Details"},"UserDetailsWrapper":{"type":"object","properties":{"userDetailsList":{"type":"array","description":"List of User Details","items":{"$ref":"#/definitions/UserDetails"}}},"title":"UserDetailsWrapper","description":"User Details Wrapper"},"UserRole":{"type":"object","required":["name"],"properties":{"name":{"type":"string","example":"TEST_ROLE","description":"Code/Name of the Role"}},"title":"UserRole","description":"User Roles"}}}